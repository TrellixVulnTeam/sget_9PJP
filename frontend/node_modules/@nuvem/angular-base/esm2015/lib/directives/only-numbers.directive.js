import { Directive, ElementRef, HostListener } from '@angular/core';
/**
 * OnlyNumbersDirective diretiva para que sejam permitidos somente números
 * @class
 */
import * as ɵngcc0 from '@angular/core';
export class OnlyNumbersDirective {
    /**
     * @param {ElementRef} el
     * @constructor
     */
    constructor(el) {
        this.el = el;
        /**
         * Propriedade que carrega expressão regular para numeros
         * @type {RegExp}
         */
        this.regex = new RegExp(/[^0-9]$/g);
        /**
         * Propriedade que lista opções aceitas além de núsmeros
         * @type {Array<string>}
         */
        this.specialKeys = [
            'Backspace',
            'Delete',
            'Tab',
            'End',
            'Home',
            'ArrowLeft',
            'ArrowRight'
        ];
    }
    /**
     * Metodo executado para os evento KeyDown do teclado executa verificação do valor digitado
     * @param {KeyboardEvent} event
     * @returns void
     */
    onKeyDown(event) {
        const current = this.el.nativeElement.value;
        const next = current.concat(event.key);
        if (this.specialKeys.indexOf(event.key) !== -1) {
            return;
        }
        if (next && String(next).match(this.regex)) {
            event.preventDefault();
        }
    }
}
OnlyNumbersDirective.ɵfac = function OnlyNumbersDirective_Factory(t) { return new (t || OnlyNumbersDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };
OnlyNumbersDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: OnlyNumbersDirective, selectors: [["input", "onlyNumbers", ""]], hostBindings: function OnlyNumbersDirective_HostBindings(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵlistener("keydown", function OnlyNumbersDirective_keydown_HostBindingHandler($event) { return ctx.onKeyDown($event); });
    } } });
OnlyNumbersDirective.ctorParameters = () => [
    { type: ElementRef }
];
OnlyNumbersDirective.propDecorators = {
    onKeyDown: [{ type: HostListener, args: ['keydown', ['$event'],] }]
};
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(OnlyNumbersDirective, [{
        type: Directive,
        args: [{
                selector: 'input[onlyNumbers]'
            }]
    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { 
    /**
     * Metodo executado para os evento KeyDown do teclado executa verificação do valor digitado
     * @param {KeyboardEvent} event
     * @returns void
     */
    onKeyDown: [{
            type: HostListener,
            args: ['keydown', ['$event']]
        }] }); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib25seS1udW1iZXJzLmRpcmVjdGl2ZS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ndWxhci1iYXNlL3NyYy9saWIvZGlyZWN0aXZlcy9vbmx5LW51bWJlcnMuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVwRTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUlILE1BQU0sT0FBTyxvQkFBb0I7QUFDakMsSUFxQkk7QUFDSjtBQUNBO0FBQ0EsT0FBTztBQUNQLElBQUksWUFBb0IsRUFBYztBQUFJLFFBQWxCLE9BQUUsR0FBRixFQUFFLENBQVk7QUFBQyxRQXhCbkM7QUFDSjtBQUNJO0FBRUosV0FETztBQUNQLFFBQVksVUFBSyxHQUFXLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ25ELFFBQ0k7QUFDSjtBQUNJO0FBRUosV0FETztBQUNQLFFBQVksZ0JBQVcsR0FBa0I7QUFDekMsWUFBUSxXQUFXO0FBQ25CLFlBQVEsUUFBUTtBQUNoQixZQUFRLEtBQUs7QUFDYixZQUFRLEtBQUs7QUFDYixZQUFRLE1BQU07QUFDZCxZQUFRLFdBQVc7QUFDbkIsWUFBUSxZQUFZO0FBQ3BCLFNBQUssQ0FBQztBQUNOLElBSzBDLENBQUM7QUFDM0MsSUFDSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxJQUNJLFNBQVMsQ0FBQyxLQUFvQjtBQUNsQyxRQUNRLE1BQU0sT0FBTyxHQUFXLElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQztBQUM1RCxRQUFRLE1BQU0sSUFBSSxHQUFXLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZELFFBQ1EsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7QUFDeEQsWUFBWSxPQUFPO0FBQ25CLFNBQVM7QUFDVCxRQUNRLElBQUksSUFBSSxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ3BELFlBQVksS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO0FBQ25DLFNBQVM7QUFDVCxJQUFJLENBQUM7QUFDTDtnREFsREMsU0FBUyxTQUFDLGtCQUNQLFFBQVEsRUFBRSxvQkFBb0IsY0FDakM7OztXQUNJO0FBQUM7QUFHQyxZQVphLFVBQVU7QUFBRztBQUFHO0FBR2xDLHdCQXVDRyxZQUFZLFNBQUMsU0FBUyxFQUFFLENBQUMsUUFBUSxDQUFDO0FBQ25DOzs7Ozs7Ozs7Ozs7Ozs7b0JBQUU7QUFBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpcmVjdGl2ZSwgRWxlbWVudFJlZiwgSG9zdExpc3RlbmVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbi8qKlxuICogT25seU51bWJlcnNEaXJlY3RpdmUgZGlyZXRpdmEgcGFyYSBxdWUgc2VqYW0gcGVybWl0aWRvcyBzb21lbnRlIG7Dum1lcm9zXG4gKiBAY2xhc3NcbiAqL1xuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6ICdpbnB1dFtvbmx5TnVtYmVyc10nXG59KVxuZXhwb3J0IGNsYXNzIE9ubHlOdW1iZXJzRGlyZWN0aXZlIHtcblxuICAgIC8qKlxuICAgICAqIFByb3ByaWVkYWRlIHF1ZSBjYXJyZWdhIGV4cHJlc3PDo28gcmVndWxhciBwYXJhIG51bWVyb3NcbiAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAqL1xuICAgIHByaXZhdGUgcmVnZXg6IFJlZ0V4cCA9IG5ldyBSZWdFeHAoL1teMC05XSQvZyk7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wcmllZGFkZSBxdWUgbGlzdGEgb3DDp8O1ZXMgYWNlaXRhcyBhbMOpbSBkZSBuw7pzbWVyb3NcbiAgICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICAgKi9cbiAgICBwcml2YXRlIHNwZWNpYWxLZXlzOiBBcnJheTxzdHJpbmc+ID0gW1xuICAgICAgICAnQmFja3NwYWNlJyxcbiAgICAgICAgJ0RlbGV0ZScsXG4gICAgICAgICdUYWInLFxuICAgICAgICAnRW5kJyxcbiAgICAgICAgJ0hvbWUnLFxuICAgICAgICAnQXJyb3dMZWZ0JyxcbiAgICAgICAgJ0Fycm93UmlnaHQnXG4gICAgXTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudFJlZn0gZWxcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsOiBFbGVtZW50UmVmKSB7IH1cblxuICAgIC8qKlxuICAgICAqIE1ldG9kbyBleGVjdXRhZG8gcGFyYSBvcyBldmVudG8gS2V5RG93biBkbyB0ZWNsYWRvIGV4ZWN1dGEgdmVyaWZpY2HDp8OjbyBkbyB2YWxvciBkaWdpdGFkb1xuICAgICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgQEhvc3RMaXN0ZW5lcigna2V5ZG93bicsIFsnJGV2ZW50J10pXG4gICAgb25LZXlEb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG5cbiAgICAgICAgY29uc3QgY3VycmVudDogc3RyaW5nID0gdGhpcy5lbC5uYXRpdmVFbGVtZW50LnZhbHVlO1xuICAgICAgICBjb25zdCBuZXh0OiBzdHJpbmcgPSBjdXJyZW50LmNvbmNhdChldmVudC5rZXkpO1xuXG4gICAgICAgIGlmICh0aGlzLnNwZWNpYWxLZXlzLmluZGV4T2YoZXZlbnQua2V5KSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXh0ICYmIFN0cmluZyhuZXh0KS5tYXRjaCh0aGlzLnJlZ2V4KSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuIl19