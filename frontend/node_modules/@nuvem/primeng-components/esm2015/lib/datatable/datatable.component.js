import { Component, ViewChild, Input, Output, ContentChildren, ChangeDetectorRef, EventEmitter, ViewEncapsulation } from '@angular/core';
import { Table as DataTable } from 'primeng/table';
import { DataProviderFactory, DataProviderType } from './dataprovider-factory';
import { DatatableButtonComponent } from './datatable-button.component';
import { DatatableClickEvent } from './datatable-click-event';
import { Authorization } from '@nuvem/angular-base';
import { Column } from './p-column.directive';
/**
 * Class DatatableComponent
 * @class
 */
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from './dataprovider-factory';
import * as ɵngcc2 from '@nuvem/angular-base';
import * as ɵngcc3 from 'primeng/blockui';
import * as ɵngcc4 from 'primeng/progressspinner';
import * as ɵngcc5 from '@angular/common';
import * as ɵngcc6 from 'primeng/button';
import * as ɵngcc7 from 'primeng/table';
import * as ɵngcc8 from 'primeng/api';
import * as ɵngcc9 from './show-column/show-column.component';
import * as ɵngcc10 from './filter-column/filter-column.component';
import * as ɵngcc11 from '@angular/forms';
import * as ɵngcc12 from 'primeng/inputtext';
import * as ɵngcc13 from './action-button/action-button.component';
import * as ɵngcc14 from './datatable-button.component';
import * as ɵngcc15 from '../extra-button/datatable-splitbutton.component';

function DatatableComponent_basis_show_column_9_Template(rf, ctx) { if (rf & 1) {
    const _r10 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "basis-show-column", 18);
    ɵngcc0.ɵɵlistener("updateVisibleColumns", function DatatableComponent_basis_show_column_9_Template_basis_show_column_updateVisibleColumns_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r10); const ctx_r9 = ɵngcc0.ɵɵnextContext(); return ctx_r9.updateVisibleColumns($event); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("columns", ctx_r0.columns);
} }
function DatatableComponent_ng_template_16_div_0_div_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 25);
    ɵngcc0.ɵɵelementStart(1, "span", 26);
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r15 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(ctx_r15.horizontalButtonsHeader);
} }
function DatatableComponent_ng_template_16_div_0_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0);
} }
const _c0 = function (a2, a3) { return { "horizontal-buttons": true, "p-sm-12": true, "p-g-8": a2, "p-g-12": a3 }; };
function DatatableComponent_ng_template_16_div_0_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 22);
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_16_div_0_div_1_Template, 3, 1, "div", 23);
    ɵngcc0.ɵɵelementStart(2, "div", 2);
    ɵngcc0.ɵɵtemplate(3, DatatableComponent_ng_template_16_div_0_ng_container_3_Template, 1, 0, "ng-container", 24);
    ɵngcc0.ɵɵprojection(4);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r12 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r12.showHorizontalButtonsHeader);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction2(3, _c0, ctx_r12.showHorizontalButtonsHeader, !ctx_r12.showHorizontalButtonsHeader));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", ctx_r12.defaultButtons);
} }
function DatatableComponent_ng_template_16_th_2_p_sortIcon_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "p-sortIcon", 29);
} if (rf & 2) {
    const col_r17 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("field", col_r17.field);
} }
const _c1 = function (a0) { return { "display": a0 }; };
function DatatableComponent_ng_template_16_th_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "th", 27);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵtemplate(2, DatatableComponent_ng_template_16_th_2_p_sortIcon_2_Template, 1, 1, "p-sortIcon", 28);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const col_r17 = ctx.$implicit;
    const ctx_r13 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵproperty("pSortableColumn", col_r17.sortable ? col_r17.field : null)("ngStyle", ɵngcc0.ɵɵpureFunction1(4, _c1, ctx_r13.visibleColumns[col_r17.field]));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", col_r17.header, " ");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", col_r17.sortable);
} }
function DatatableComponent_ng_template_16_tr_3_th_1_basis_filter_column_1_Template(rf, ctx) { if (rf & 1) {
    const _r25 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "basis-filter-column", 34);
    ɵngcc0.ɵɵlistener("outputEvent", function DatatableComponent_ng_template_16_tr_3_th_1_basis_filter_column_1_Template_basis_filter_column_outputEvent_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r25); const col_r21 = ɵngcc0.ɵɵnextContext().$implicit; const ctx_r23 = ɵngcc0.ɵɵnextContext(3); return ctx_r23.filterColumn(col_r21.field, $event); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const col_r21 = ɵngcc0.ɵɵnextContext().$implicit;
    const ctx_r22 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵproperty("listaOriginal", ctx_r22.filterSelectOptions)("lista", ctx_r22.filterSelectOptions)("field", col_r21.field)("updateFiltro", ctx_r22.updateFilterColumn)("filterType", col_r21.filterType)("tableType", ctx_r22.type)("customFilterOptions", ctx_r22.customFilterOptions);
} }
function DatatableComponent_ng_template_16_tr_3_th_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "th", 32);
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_16_tr_3_th_1_basis_filter_column_1_Template, 1, 7, "basis-filter-column", 33);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const col_r21 = ctx.$implicit;
    const ctx_r20 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵproperty("ngStyle", ɵngcc0.ɵɵpureFunction1(2, _c1, ctx_r20.visibleColumns[col_r21.field]));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", col_r21.field != "actions");
} }
function DatatableComponent_ng_template_16_tr_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "tr", 30);
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_16_tr_3_th_1_Template, 2, 4, "th", 31);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const columns_r11 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngForOf", columns_r11);
} }
function DatatableComponent_ng_template_16_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵtemplate(0, DatatableComponent_ng_template_16_div_0_Template, 5, 6, "div", 19);
    ɵngcc0.ɵɵelementStart(1, "tr");
    ɵngcc0.ɵɵtemplate(2, DatatableComponent_ng_template_16_th_2_Template, 3, 6, "th", 20);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(3, DatatableComponent_ng_template_16_tr_3_Template, 2, 1, "tr", 21);
} if (rf & 2) {
    const columns_r11 = ctx.$implicit;
    const ctx_r2 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("ngIf", ctx_r2.defaultButtons && !ctx_r2.verticalButtons);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngForOf", columns_r11);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r2.filterOnColumn);
} }
function DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_1_span_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "span", 41);
} if (rf & 2) {
    const col_r33 = ɵngcc0.ɵɵnextContext(3).$implicit;
    const rowData_r28 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("innerHTML", rowData_r28[col_r33.field], ɵngcc0.ɵɵsanitizeHtml);
} }
const _c2 = function (a0, a1) { return { rowData: a0, col: a1 }; };
function DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_1_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0, 42);
} if (rf & 2) {
    const col_r33 = ɵngcc0.ɵɵnextContext(3).$implicit;
    const rowData_r28 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", col_r33.bodyTemplate)("ngTemplateOutletContext", ɵngcc0.ɵɵpureFunction2(2, _c2, rowData_r28, col_r33));
} }
function DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_1_span_1_Template, 1, 1, "span", 39);
    ɵngcc0.ɵɵtemplate(2, DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_1_ng_container_2_Template, 1, 5, "ng-container", 40);
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const col_r33 = ɵngcc0.ɵɵnextContext(2).$implicit;
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !col_r33.bodyTemplate);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", col_r33.bodyTemplate);
} }
function DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_2_ng_template_2_span_0_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "span", 41);
} if (rf & 2) {
    const col_r33 = ɵngcc0.ɵɵnextContext(4).$implicit;
    const rowData_r28 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("innerHTML", rowData_r28[col_r33.field], ɵngcc0.ɵɵsanitizeHtml);
} }
const _c3 = function () { return { "width": "100%" }; };
function DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_2_ng_template_2_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r55 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 46);
    ɵngcc0.ɵɵelementStart(1, "div", 47);
    ɵngcc0.ɵɵelementStart(2, "div", 46);
    ɵngcc0.ɵɵelementStart(3, "span", 48);
    ɵngcc0.ɵɵelementStart(4, "input", 49);
    ɵngcc0.ɵɵlistener("ngModelChange", function DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_2_ng_template_2_div_1_Template_input_ngModelChange_4_listener($event) { ɵngcc0.ɵɵrestoreView(_r55); const col_r33 = ɵngcc0.ɵɵnextContext(4).$implicit; const rowData_r28 = ɵngcc0.ɵɵnextContext().$implicit; return (rowData_r28[col_r33.field] = $event); });
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(5, "label");
    ɵngcc0.ɵɵtext(6);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const col_r33 = ɵngcc0.ɵɵnextContext(4).$implicit;
    const rowData_r28 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵadvance(4);
    ɵngcc0.ɵɵstyleMap(ɵngcc0.ɵɵpureFunction0(4, _c3));
    ɵngcc0.ɵɵproperty("ngModel", rowData_r28[col_r33.field]);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(col_r33.header);
} }
const _c4 = function (a0, a1) { return { "rowData": a0, "col": a1 }; };
function DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_2_ng_template_2_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0, 42);
} if (rf & 2) {
    const col_r33 = ɵngcc0.ɵɵnextContext(4).$implicit;
    const rowData_r28 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", col_r33.inputTemplate)("ngTemplateOutletContext", ɵngcc0.ɵɵpureFunction2(2, _c4, rowData_r28, col_r33));
} }
function DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_2_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵtemplate(0, DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_2_ng_template_2_span_0_Template, 1, 1, "span", 39);
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_2_ng_template_2_div_1_Template, 7, 5, "div", 45);
    ɵngcc0.ɵɵtemplate(2, DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_2_ng_template_2_ng_container_2_Template, 1, 5, "ng-container", 40);
} if (rf & 2) {
    const col_r33 = ɵngcc0.ɵɵnextContext(3).$implicit;
    ɵngcc0.ɵɵproperty("ngIf", !col_r33.outputTemplate && col_r33.editable == false);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !col_r33.inputTemplate && col_r33.editable != false);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", col_r33.inputTemplate);
} }
function DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_2_ng_template_3_span_0_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "span", 41);
} if (rf & 2) {
    const col_r33 = ɵngcc0.ɵɵnextContext(4).$implicit;
    const rowData_r28 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("innerHTML", rowData_r28[col_r33.field], ɵngcc0.ɵɵsanitizeHtml);
} }
function DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_2_ng_template_3_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0, 42);
} if (rf & 2) {
    const col_r33 = ɵngcc0.ɵɵnextContext(4).$implicit;
    const rowData_r28 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", col_r33.outputTemplate)("ngTemplateOutletContext", ɵngcc0.ɵɵpureFunction2(2, _c2, rowData_r28, col_r33));
} }
function DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_2_ng_template_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵtemplate(0, DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_2_ng_template_3_span_0_Template, 1, 1, "span", 39);
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_2_ng_template_3_ng_container_1_Template, 1, 5, "ng-container", 40);
} if (rf & 2) {
    const col_r33 = ɵngcc0.ɵɵnextContext(3).$implicit;
    ɵngcc0.ɵɵproperty("ngIf", !col_r33.outputTemplate);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", col_r33.outputTemplate);
} }
function DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵelementStart(1, "p-cellEditor");
    ɵngcc0.ɵɵtemplate(2, DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_2_ng_template_2_Template, 3, 3, "ng-template", 43);
    ɵngcc0.ɵɵtemplate(3, DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_2_ng_template_3_Template, 2, 2, "ng-template", 44);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementContainerEnd();
} }
function DatatableComponent_ng_template_17_ng_container_1_td_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "td", 32);
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_1_Template, 3, 2, "ng-container", 15);
    ɵngcc0.ɵɵtemplate(2, DatatableComponent_ng_template_17_ng_container_1_td_1_ng_container_2_Template, 4, 0, "ng-container", 15);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const col_r33 = ɵngcc0.ɵɵnextContext().$implicit;
    const ctx_r35 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵproperty("ngStyle", ɵngcc0.ɵɵpureFunction1(3, _c1, ctx_r35.visibleColumns[col_r33.field]));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r35.editMode);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r35.editMode);
} }
const _c5 = function (a0) { return { rowData: a0 }; };
function DatatableComponent_ng_template_17_ng_container_1_td_2_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0, 42);
} if (rf & 2) {
    const col_r33 = ɵngcc0.ɵɵnextContext(2).$implicit;
    const rowData_r28 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", col_r33.outputTemplate)("ngTemplateOutletContext", ɵngcc0.ɵɵpureFunction1(2, _c5, rowData_r28));
} }
function DatatableComponent_ng_template_17_ng_container_1_td_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "td", 50);
    ɵngcc0.ɵɵelementStart(1, "basis-action-button");
    ɵngcc0.ɵɵtemplate(2, DatatableComponent_ng_template_17_ng_container_1_td_2_ng_container_2_Template, 1, 4, "ng-container", 40);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const col_r33 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngIf", col_r33.outputTemplate);
} }
function DatatableComponent_ng_template_17_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_17_ng_container_1_td_1_Template, 3, 5, "td", 37);
    ɵngcc0.ɵɵtemplate(2, DatatableComponent_ng_template_17_ng_container_1_td_2_Template, 3, 1, "td", 38);
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const col_r33 = ctx.$implicit;
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", col_r33.field != "actions");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", col_r33.field == "actions");
} }
const _c6 = function (a0) { return { "editing": a0 }; };
function DatatableComponent_ng_template_17_Template(rf, ctx) { if (rf & 1) {
    const _r75 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "tr", 35);
    ɵngcc0.ɵɵlistener("mouseover", function DatatableComponent_ng_template_17_Template_tr_mouseover_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r75); const ctx_r74 = ɵngcc0.ɵɵnextContext(); return ctx_r74.editarLinhaOver($event); })("mouseleave", function DatatableComponent_ng_template_17_Template_tr_mouseleave_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r75); const ctx_r76 = ɵngcc0.ɵɵnextContext(); return ctx_r76.editarLinhaOut($event); });
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_17_ng_container_1_Template, 3, 2, "ng-container", 36);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const rowData_r28 = ctx.$implicit;
    const columns_r29 = ctx.columns;
    const editing_r30 = ctx.editing;
    ɵngcc0.ɵɵproperty("pSelectableRow", rowData_r28)("pContextMenuRow", rowData_r28)("pEditableRow", rowData_r28)("ngClass", ɵngcc0.ɵɵpureFunction1(5, _c6, editing_r30));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngForOf", columns_r29);
} }
function DatatableComponent_18_ng_template_0_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵtext(0);
} if (rf & 2) {
    const ctx_r77 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ctx_r77.emptyMessage, " ");
} }
function DatatableComponent_18_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵtemplate(0, DatatableComponent_18_ng_template_0_Template, 1, 1, "ng-template");
} }
function DatatableComponent_p_footer_19_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "p-footer");
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r5 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ctx_r5.paginationFooterText(ctx_r5.footerMsg), " ");
} }
function DatatableComponent_div_20_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0);
} }
function DatatableComponent_div_20_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 51);
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_div_20_ng_container_1_Template, 1, 0, "ng-container", 24);
    ɵngcc0.ɵɵprojection(2, 1);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r6 = ɵngcc0.ɵɵnextContext();
    const _r7 = ɵngcc0.ɵɵreference(22);
    ɵngcc0.ɵɵstyleProp("position", ctx_r6.enableButtonsScroll ? "sticky" : "")("top", ctx_r6.enableButtonsScroll ? "15%" : "");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", _r7);
} }
function DatatableComponent_ng_template_21_basis_datatable_button_0_Template(rf, ctx) { if (rf & 1) {
    const _r84 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "basis-datatable-button", 56);
    ɵngcc0.ɵɵlistener("click", function DatatableComponent_ng_template_21_basis_datatable_button_0_Template_basis_datatable_button_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r84); const ctx_r83 = ɵngcc0.ɵɵnextContext(2); return ctx_r83.onClick("edit", $event); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r79 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵclassProp("horizontal-button", !ctx_r79.verticalButtons);
    ɵngcc0.ɵɵproperty("bTooltip", ctx_r79.selectedRow != null ? "Editar" : "Escolha um registro para editar.")("disabled", ctx_r79.selectedRow == null);
} }
function DatatableComponent_ng_template_21_basis_datatable_button_1_Template(rf, ctx) { if (rf & 1) {
    const _r86 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "basis-datatable-button", 57);
    ɵngcc0.ɵɵlistener("click", function DatatableComponent_ng_template_21_basis_datatable_button_1_Template_basis_datatable_button_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r86); const ctx_r85 = ɵngcc0.ɵɵnextContext(2); return ctx_r85.onClick("view", $event); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r80 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵclassProp("horizontal-button", !ctx_r80.verticalButtons);
    ɵngcc0.ɵɵproperty("bTooltip", ctx_r80.selectedRow != null ? "Visualizar" : "Escolha um registro para visualizar.")("disabled", ctx_r80.selectedRow == null);
} }
function DatatableComponent_ng_template_21_basis_datatable_button_2_Template(rf, ctx) { if (rf & 1) {
    const _r88 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "basis-datatable-button", 58);
    ɵngcc0.ɵɵlistener("click", function DatatableComponent_ng_template_21_basis_datatable_button_2_Template_basis_datatable_button_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r88); const ctx_r87 = ɵngcc0.ɵɵnextContext(2); return ctx_r87.onClick("delete", $event); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r81 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵclassProp("horizontal-button", !ctx_r81.verticalButtons);
    ɵngcc0.ɵɵproperty("bTooltip", ctx_r81.selectedRow != null ? "Excluir" : "Escolha um registro para excluir.")("disabled", ctx_r81.selectedRow == null);
} }
function DatatableComponent_ng_template_21_datatable_splitbutton_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "datatable-splitbutton", 59);
} if (rf & 2) {
    const ctx_r82 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵclassMap(ctx_r82.splitButton.class);
    ɵngcc0.ɵɵproperty("icon", ctx_r82.splitButton.icon)("items", ctx_r82.splitButton.itens)("label", ctx_r82.splitButton.label)("method", ctx_r82.splitButton.method);
} }
function DatatableComponent_ng_template_21_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵtemplate(0, DatatableComponent_ng_template_21_basis_datatable_button_0_Template, 1, 4, "basis-datatable-button", 52);
    ɵngcc0.ɵɵtemplate(1, DatatableComponent_ng_template_21_basis_datatable_button_1_Template, 1, 4, "basis-datatable-button", 53);
    ɵngcc0.ɵɵtemplate(2, DatatableComponent_ng_template_21_basis_datatable_button_2_Template, 1, 4, "basis-datatable-button", 54);
    ɵngcc0.ɵɵtemplate(3, DatatableComponent_ng_template_21_datatable_splitbutton_3_Template, 1, 6, "datatable-splitbutton", 55);
} if (rf & 2) {
    const ctx_r8 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r8.disableEdit && ctx_r8.checkRolesToButton("rulesToShowView") && ctx_r8.checkRolesToButton("rulesToHideView"));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r8.disableView && ctx_r8.checkRolesToButton("rulesToShowEdit") && ctx_r8.checkRolesToButton("rulesToHideEdit"));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r8.disableDelete && ctx_r8.checkRolesToButton("rulesToShowDelete") && ctx_r8.checkRolesToButton("rulesToHideDelete"));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r8.splitButton);
} }
const _c7 = [[["horizontalButtons"]], [["basis-datatable-button"]]];
const _c8 = function (a0) { return { "active": a0 }; };
const _c9 = function (a0, a1, a2, a3) { return { "p-col-11": a0, "p-col-12": a1, "edicao-tabela": a2, "editing-row": a3 }; };
const _c10 = ["horizontalButtons", "basis-datatable-button"];
export class DatatableComponent {
    /**
     * constructor method
     * @constructor
     * @param {ChangeDetectorRef} changeDetectorRef
     * @param {DataProviderFactory} dataProviderFactory
     * @param {Authorization} authorizationService
     */
    constructor(changeDetectorRef, dataProviderFactory, authorizationService) {
        this.changeDetectorRef = changeDetectorRef;
        this.dataProviderFactory = dataProviderFactory;
        this.authorizationService = authorizationService;
        this.isShowGlobalFilter = false;
        this.isShowFilterRow = false;
        /**
         * filterParams property
         * @type {any}
         */
        this.filterParams = {};
        /**
         * footerMsg property
         * @type {string}
         */
        this.footerMsg = '';
        /**
         * orderInSort property
         * @type {boolean}
         */
        this.orderInSort = false;
        /**
         * value property
         * @type {any}
         */
        this.value = [];
        /**
         * type property
         * @type DataProviderType
         */
        this.type = DataProviderType.Server;
        /**
         * rows property
         * @type {number}
         */
        this.rows = 5;
        /**
         * showPaginationFooter property
         * @type {boolean}
         */
        this.showPaginationFooter = false;
        /**
         * disableEdit property
         * @type {boolean}
         */
        this.disableEdit = false;
        /**
         * disableView property
         * @type {boolean}
         */
        this.disableView = false;
        /**
         * disableDelete property
         * @type {boolean}
         */
        this.disableDelete = false;
        /**
         * selectionMode property
         * @type {string}
         */
        this.selectionMode = 'single';
        /**
         * enableButtonsScroll property
         * @type {boolean}
         */
        this.enableButtonsScroll = false;
        /**
         * emptyMessage property
         * @type {string}
         */
        this.emptyMessage = 'Nenhum registro encontrado.';
        /**
         * verticalButtons property
         * @type {boolean}
         */
        this.verticalButtons = true;
        /**
         * defaultButtons property
         * @type {boolean}
         */
        this.defaultButtons = true;
        /**
         * enableScroll property
         * @type {boolean}
         */
        this.enableScroll = false;
        /**
         * disableLoadingBlockUI property
         * @type {boolean}
         */
        this.disableLoadingBlockUI = false;
        /**
         * filterOnColumn property
         */
        this.filterOnColumn = false;
        /**
         * filterSelectOptions property
         */
        this.filterSelectOptions = [];
        /**
         * updateFiltroHistorico property
         */
        this.updateFilterColumn = false;
        /**
         * customFilterOptions property
         */
        this.customFilterOptions = {};
        /**
         * buttonClick property
         * @type {EventEmitter<any>}
         */
        this.buttonClick = new EventEmitter();
        /**
         * startedLoading property
         * @type {EventEmitter<void>}
         */
        this.startedLoading = new EventEmitter();
        /**
         * finishedLoading property
         * @type {EventEmitter<HttpErrorResponse>}
         */
        this.finishedLoading = new EventEmitter();
        /**
         * onRowSelected property
         * @type {EventEmitter<any>}
         */
        this.onRowSelected = new EventEmitter();
        /**
         * showHorizontalButtonsHeader property
         * @type {boolean}
         */
        this.showHorizontalButtonsHeader = false;
        /**
         * blockContent
         * @type {boolean}
         */
        this.blockContent = false;
        /**
         * visibleColumns property
         * @type {Object}
         */
        this.visibleColumns = {};
        /**
         * showVisibleColumnsControl property
         * @type {boolean}
         */
        this.showVisibleColumnsControl = false;
        /**
         * dataKey property
         * Identificador único para cada registro da tabela
         * @type {string}
         */
        this.dataKey = 'id';
        /**
         * onRowEditEvent property
         * Evento disparado quando o usuário realiza ações de edição em uma linha da tabela
         * @type {EventEmitter<void>}
         */
        this.onRowEditEvent = new EventEmitter();
        this.clonedRowData = {};
        /**
         * errorMessage property
         * @type {string}
         */
        this.errorMessage = 'Ocorreu um erro ao carregar os dados da tabela. Tente novamente.';
        this.editingRow = false;
    }
    get showGlobalFilter() {
        return this.isShowGlobalFilter;
    }
    set showGlobalFilter(showGlobalFilter) {
        this.isShowGlobalFilter = showGlobalFilter;
    }
    get showFilterRow() {
        return this.isShowFilterRow;
    }
    set showFilterRow(ShowFilterRow) {
        this.isShowFilterRow = ShowFilterRow;
    }
    /**
     * ngOnInit method
     * @returns void
     */
    ngOnInit() {
        this.dataProvider = this.dataProviderFactory.create(this.type, this);
        this.pDatatableComponent.rows = this.rows;
        this.subscribeToLoadingEvents();
        this.initRowsPerPageOptionsIfPresent();
        this.defineIfShouldShowHorizontalButtonsHeader();
        this.updateOnValueChange();
        this.finishedLoading.subscribe(() => {
            this.updateOnValueChange();
        });
    }
    /**
     * subscribeFromValueChange method
     * @returns void
     */
    updateOnValueChange() {
        this.filterSelectOptions = [];
        if (this.value) {
            this.value.map((item) => {
                this.filterSelectOptions.push(item);
            });
        }
    }
    /**
     * subscribeToLoadingEvents method
     * @returns void
     */
    subscribeToLoadingEvents() {
        if (!this.disableLoadingBlockUI) {
            this.originalEmptyMessage = this.emptyMessage;
            this.startedLoading.subscribe(() => this.onStartedLoading());
            this.finishedLoading.subscribe(error => this.onFinishedLoading(error));
        }
    }
    /**
     * onStartedLoading method
     * @returns void
     */
    onStartedLoading() {
        this.blockContent = true;
        this.emptyMessage = this.originalEmptyMessage;
    }
    /**
     * onFinishedLoading method
     * @param {HttpErrorResponse} error
     * @returns void
     */
    onFinishedLoading(error) {
        this.blockContent = false;
        if (error) {
            this.emptyMessage = this.errorMessage;
        }
    }
    /**
     * initRowsPerPageOptionsIfPresent method
     * @returns void
     */
    initRowsPerPageOptionsIfPresent() {
        if (this.rowsPerPageOptions) {
            this.pDatatableComponent.rowsPerPageOptions = this.rowsPerPageOptions;
        }
    }
    /**
     * defineIfShouldShowHorizontalButtonsHeader method
     * @returns void
     */
    defineIfShouldShowHorizontalButtonsHeader() {
        if (this.horizontalButtonsHeader) {
            this.showHorizontalButtonsHeader = true;
        }
    }
    /**
     * ngAfterViewInit method
     * @returns void
     */
    ngAfterViewInit() {
        this.setExtraParams();
        this.pDatatableComponent.columns = this.columns;
        this.pDatatableComponent.ngAfterContentInit();
        this.setAllColumnsVisible();
        this.changeDetectorRef.detectChanges();
    }
    /**
     * setExtraParams method
     * @returns void
     */
    setExtraParams() {
        for (let i in this.extraParams) {
            this.pDatatableComponent[i] = this.extraParams[i];
        }
    }
    /**
     * ngAfterContentInit method
     * @returns void
     */
    ngAfterContentInit() {
        this.extraButtons.forEach(button => {
            button.click.subscribe(event => {
                this.onClick(button.name, event);
            });
        });
    }
    /**
     * onClick method
     * @param {string} button
     * @param {any} event
     * @return void
     */
    onClick(button, event) {
        this.buttonClick.emit(new DatatableClickEvent(button, this.selectedRow));
        event.stopPropagation();
        this.resetSelectedRow(button);
    }
    /**
     * onSelectChange method
     * @param {any} event
     * @returns void
     */
    onSelectChange(event) {
        this.onRowSelected.emit(this.selectedRow);
        if (Array.isArray(this.selectedRow) && this.selectedRow.length > 1) {
            this.updateMultipleButtonsStatus(true);
        }
        else {
            this.updateMultipleButtonsStatus(false);
        }
    }
    /**
     * updateMultipleButtonsStatus method
     * @param {boolean} hasMultipleSelection
     * @return void
     */
    updateMultipleButtonsStatus(hasMultipleSelection) {
        this.extraButtons.forEach(button => {
            if (hasMultipleSelection && !button.allowMultipleSelection) {
                button.disabled = true;
            }
            else {
                button.disabled = false;
            }
        });
    }
    /**
     * refresh method
     * @param query
     * @returns void
     */
    refresh(query) {
        this.dataProvider.load(query);
    }
    /**
     * resetSelectedRow method
     * @param button
     * @returns void
     */
    resetSelectedRow(button) {
        if (button === 'delete') {
            this.selectedRow = null;
        }
    }
    /**
     * reset method
     * @returns void
     */
    reset() {
        this.pDatatableComponent.first = 0;
        this.dataProvider.reset();
        this.refresh();
    }
    /**
     * paginationFooterText method
     * @param {string} msg
     * @returns string
     */
    paginationFooterText(msg) {
        const registros = this.totalRecords() === 1 ? 'registro' : 'registros';
        if (msg === '') {
            return `Exibindo: ${this.currentFirstIndex()} a ${this.currentLastIndex()} de ${this.totalRecords()} ${registros}`;
        }
        msg = msg.replace('{totalRecords}', this.totalRecords().toString());
        msg = msg.replace('{currentFirstIndex}', this.currentFirstIndex().toString());
        msg = msg.replace('{currentLastIndex}', this.currentLastIndex().toString());
        return msg;
    }
    /**
     * currentFirstIndex method
     * @returns number
     */
    currentFirstIndex() {
        return this.pDatatableComponent.first + 1;
    }
    /**
     * currentLastIndex method
     * @returns number
     */
    currentLastIndex() {
        const currentLastIndex = this.pDatatableComponent.first + this.pDatatableComponent.rows;
        if (currentLastIndex > this.totalRecords()) {
            return this.totalRecords();
        }
        return currentLastIndex;
    }
    /**
     * totalRecords method
     * @returns number
     */
    totalRecords() {
        return this.pDatatableComponent.totalRecords;
    }
    /**
     * checkRolesToButton method
     * @param {string} button
     * @return boolean
     */
    checkRolesToButton(button) {
        if (this[button]) {
            if (button === 'rulesToHide' ||
                button === 'rulesToShowEdit' ||
                button === 'rulesToShowDelete') {
                this.checkUseButtons(button);
                return this.authorizationService.hasRole(this[button]);
            }
            return !this.authorizationService.hasRole(this[button]);
        }
        return true;
    }
    /**
     * checkUseButtons method
     * @param {string} button
     * @returns void
     */
    checkUseButtons(button) {
        if (this[button] && this[button.replace('Show', 'Hide')]) {
            throw new Error('Não é possível definir dois valores de roles para os botões padrões.');
        }
    }
    /**
     * filter method
     * @returns void
     */
    filter() {
        for (let prop in this.filterParams) {
            if (this.filterParams[prop] === '' ||
                this.filterParams[prop].length === 0) {
                delete this.filterParams[prop];
            }
        }
        if (Object.getOwnPropertyNames(this.filterParams).length === 0) {
            this.reset();
        }
        else {
            this.refresh(this.filterParams);
        }
    }
    /**
     * Método para filtrar por colunas
     * @param column chave da coluna na tabela
     * @param filters valor do filtro
     */
    filterColumn(column, filters) {
        const values = [];
        if (filters instanceof Array) {
            values[column] = [];
            for (let item in filters) {
                let val = filters[item] instanceof Object
                    ? filters[item].value
                    : filters[item];
                values[column].push(val);
            }
        }
        else {
            values[column] = filters;
        }
        this.filterParams = Object.assign(Object.assign({}, this.filterParams), values);
        return this.filter();
    }
    /**
     * Inicia todas as colunas da tabela como visíveis
     */
    setAllColumnsVisible() {
        this.columns.forEach(col => {
            this.visibleColumns[col.field] = 'table-cell';
        });
    }
    /**
     * Verifica se uma coluna deve estar visível
     * @param column string
     * @param visibleColumns Array
     */
    visibleColumnCheck(column, visibleColumns) {
        return visibleColumns.some((item) => {
            return item.field ? item.field == column : true;
        });
    }
    /**
     * Atualzia os valores da variável 'visibleColuns' para mostrar ou não as colunas
     * @param columns array
     */
    updateVisibleColumns(columns) {
        for (let col in this.visibleColumns) {
            if (this.visibleColumnCheck(col, columns)) {
                this.visibleColumns[col] = 'table-cell';
            }
            else {
                this.visibleColumns[col] = 'none';
            }
        }
    }
    onRowEditInitEvent(event, rowData) {
        // const tr = event.srcElement.closest('tr');
        // setTimeout(() => {
        //     this.editingRow = true;
        //     const top = tr.offsetTop;
        //     const height = tr.offsetHeight;
        //     const editButtons = tr.querySelector('.editar-campos');
        //     editButtons.style.top = (top + height) + 'px';
        //     editButtons.style.height ='75px';
        //     editButtons.style.backgroundColor = '#d0d0d0';
        //     editButtons.style.opacity = 1;
        //     this.clonedRowData[rowData.id] = {...rowData};
        //     this.onRowEditEvent.emit({event: "init", data: rowData});
        // }, null , tr);
    }
    onRowEditSaveEvent(event, rowData) {
        this.onRowEditEvent.emit({ event: "save", data: rowData });
        this.resetEditingMode(event);
    }
    onRowEditCancelEvent(event, rowData, index) {
        this.value[index] = this.clonedRowData[rowData.id];
        delete this.clonedRowData[rowData[this.dataKey]];
        this.onRowEditEvent.emit({ event: "cancel", data: rowData });
        this.resetEditingMode(event);
    }
    resetEditingMode(event) {
        const editButtons = event.srcElement.closest('tr').querySelector('.editar-campos');
        editButtons.style.opacity = 0;
        editButtons.style.backgroundColor = '#0000006b';
        editButtons.style.display = 'none';
        this.editingRow = false;
    }
    editarLinhaOver(event) {
        // if (!this.editingRow && this.editMode == 'row') {
        //     const top = event.srcElement.closest('tr').offsetTop;
        //     const height = event.srcElement.closest('tr').offsetHeight;
        //     const editButtons = event.srcElement.closest('tr').querySelector('.editar-campos');
        //     editButtons.style.display = 'flex';
        //     editButtons.style.top = top + 'px';
        //     editButtons.style.height = height + 'px';
        //     editButtons.style.backgroundColor = '#0000006b';
        //     editButtons.style.opacity = 1;
        // }
    }
    editarLinhaOut(event) {
        // if (!this.editingRow) {
        //     const editButtons = event.srcElement.closest('tr').querySelector('.editar-campos');
        //     editButtons.style.display = 'none';
        //     editButtons.style.opacity = 0;
        // }
    }
}
DatatableComponent.ɵfac = function DatatableComponent_Factory(t) { return new (t || DatatableComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DataProviderFactory), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Authorization)); };
DatatableComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: DatatableComponent, selectors: [["basis-datatable"]], contentQueries: function DatatableComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        ɵngcc0.ɵɵcontentQuery(dirIndex, DatatableButtonComponent, 0);
        ɵngcc0.ɵɵcontentQuery(dirIndex, Column, 0);
    } if (rf & 2) {
        let _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.extraButtons = _t);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.columns = _t);
    } }, viewQuery: function DatatableComponent_Query(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵviewQuery(DataTable, 3);
    } if (rf & 2) {
        let _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.pDatatableComponent = _t.first);
    } }, inputs: { value: "value", type: "type", rows: "rows", showPaginationFooter: "showPaginationFooter", disableEdit: "disableEdit", disableView: "disableView", disableDelete: "disableDelete", selectionMode: "selectionMode", enableButtonsScroll: "enableButtonsScroll", emptyMessage: "emptyMessage", verticalButtons: "verticalButtons", defaultButtons: "defaultButtons", enableScroll: "enableScroll", disableLoadingBlockUI: "disableLoadingBlockUI", filterOnColumn: "filterOnColumn", customFilterOptions: "customFilterOptions", showVisibleColumnsControl: "showVisibleColumnsControl", dataKey: "dataKey", title: "title", splitButton: "splitButton", rowsPerPageOptions: "rowsPerPageOptions", url: "url", extraParams: "extraParams", paginationParameters: "paginationParameters", scrollHeight: "scrollHeight", scrollWidth: "scrollWidth", rulesToHide: "rulesToHide", rulesToShowEdit: "rulesToShowEdit", rulesToShowDelete: "rulesToShowDelete", rulesToHideView: "rulesToHideView", rulesToHideEdit: "rulesToHideEdit", rulesToHideDelete: "rulesToHideDelete", rowStyleClass: "rowStyleClass", editMode: "editMode" }, outputs: { buttonClick: "buttonClick", startedLoading: "startedLoading", finishedLoading: "finishedLoading", onRowSelected: "onRowSelected", onRowEditEvent: "onRowEditEvent" }, ngContentSelectors: _c10, decls: 23, vars: 29, consts: [[3, "blocked"], [1, "center-spinner"], [3, "ngClass"], [1, "table-tools"], [1, "p-col-8", "nopad"], [1, ""], [1, "p-col-4", "nopad", "tools"], [3, "columns", "updateVisibleColumns", 4, "ngIf"], ["pButton", "", "pRipple", "", "type", "button", "icon", "fas fa-sliders-h", 1, "p-button-rounded", "p-button-outlined", "p-mr-2", "p-mb-2", 3, "ngClass", "click"], ["pButton", "", "pRipple", "", "type", "button", "icon", "fas fa-columns", 1, "p-button-rounded", "p-button-outlined", "p-mr-2", "p-mb-2", 3, "ngClass", "click"], [1, "p-grid"], ["styleClass", "p-datatable-customers", 3, "value", "rows", "paginator", "selectionMode", "responsive", "scrollable", "selection", "editMode", "rowHover", "dataKey", "selectionChange", "onRowSelect", "onRowUnselect"], ["datatable", ""], ["pTemplate", "header"], ["pTemplate", "body"], [4, "ngIf"], ["class", "p-col-1", 3, "position", "top", 4, "ngIf"], ["defaultButtonsTemplate", ""], [3, "columns", "updateVisibleColumns"], ["class", "p-g", 4, "ngIf"], [3, "pSortableColumn", "ngStyle", 4, "ngFor", "ngForOf"], ["class", "header-filter-column", 4, "ngIf"], [1, "p-g"], ["class", "p-g-4 p-sm-12", 4, "ngIf"], [4, "ngTemplateOutlet"], [1, "p-g-4", "p-sm-12"], [1, "horizontal-buttons-header"], [3, "pSortableColumn", "ngStyle"], [3, "field", 4, "ngIf"], [3, "field"], [1, "header-filter-column"], [3, "ngStyle", 4, "ngFor", "ngForOf"], [3, "ngStyle"], [3, "listaOriginal", "lista", "field", "updateFiltro", "filterType", "tableType", "customFilterOptions", "outputEvent", 4, "ngIf"], [3, "listaOriginal", "lista", "field", "updateFiltro", "filterType", "tableType", "customFilterOptions", "outputEvent"], [3, "pSelectableRow", "pContextMenuRow", "pEditableRow", "ngClass", "mouseover", "mouseleave"], [4, "ngFor", "ngForOf"], [3, "ngStyle", 4, "ngIf"], ["width", "8%", "class", "action-column", 4, "ngIf"], [3, "innerHTML", 4, "ngIf"], [3, "ngTemplateOutlet", "ngTemplateOutletContext", 4, "ngIf"], [3, "innerHTML"], [3, "ngTemplateOutlet", "ngTemplateOutletContext"], ["pTemplate", "input"], ["pTemplate", "output"], ["class", "p-md-12", 4, "ngIf"], [1, "p-md-12"], [1, "p-g", "form-group"], [1, "md-inputfield"], ["pInputText", "", "type", "text", 3, "ngModel", "ngModelChange"], ["width", "8%", 1, "action-column"], [1, "p-col-1"], ["class", "p-button-success", "icon", "pi pi-pencil", 3, "bTooltip", "horizontal-button", "disabled", "click", 4, "ngIf"], ["icon", "pi pi-search-plus", 3, "bTooltip", "horizontal-button", "disabled", "click", 4, "ngIf"], ["class", "p-button-danger", "icon", "pi pi-trash", 3, "bTooltip", "horizontal-button", "disabled", "click", 4, "ngIf"], [3, "icon", "class", "items", "label", "method", 4, "ngIf"], ["icon", "pi pi-pencil", 1, "p-button-success", 3, "bTooltip", "disabled", "click"], ["icon", "pi pi-search-plus", 3, "bTooltip", "disabled", "click"], ["icon", "pi pi-trash", 1, "p-button-danger", 3, "bTooltip", "disabled", "click"], [3, "icon", "items", "label", "method"]], template: function DatatableComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵprojectionDef(_c7);
        ɵngcc0.ɵɵelementStart(0, "p-blockUI", 0);
        ɵngcc0.ɵɵelementStart(1, "div", 1);
        ɵngcc0.ɵɵelement(2, "p-progressSpinner");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(3, "div", 2);
        ɵngcc0.ɵɵelementStart(4, "div", 3);
        ɵngcc0.ɵɵelementStart(5, "div", 4);
        ɵngcc0.ɵɵelementStart(6, "h3", 5);
        ɵngcc0.ɵɵtext(7);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(8, "div", 6);
        ɵngcc0.ɵɵtemplate(9, DatatableComponent_basis_show_column_9_Template, 1, 1, "basis-show-column", 7);
        ɵngcc0.ɵɵelementStart(10, "button", 8);
        ɵngcc0.ɵɵlistener("click", function DatatableComponent_Template_button_click_10_listener() { return ctx.filterOnColumn = !ctx.filterOnColumn; });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(11, "button", 9);
        ɵngcc0.ɵɵlistener("click", function DatatableComponent_Template_button_click_11_listener() { return ctx.showVisibleColumnsControl = !ctx.showVisibleColumnsControl; });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(12, "div", 10);
        ɵngcc0.ɵɵelementStart(13, "div", 2);
        ɵngcc0.ɵɵelementStart(14, "p-table", 11, 12);
        ɵngcc0.ɵɵlistener("selectionChange", function DatatableComponent_Template_p_table_selectionChange_14_listener($event) { return ctx.selectedRow = $event; })("onRowSelect", function DatatableComponent_Template_p_table_onRowSelect_14_listener($event) { return ctx.onSelectChange($event); })("onRowUnselect", function DatatableComponent_Template_p_table_onRowUnselect_14_listener($event) { return ctx.onSelectChange($event); });
        ɵngcc0.ɵɵtemplate(16, DatatableComponent_ng_template_16_Template, 4, 3, "ng-template", 13);
        ɵngcc0.ɵɵtemplate(17, DatatableComponent_ng_template_17_Template, 2, 7, "ng-template", 14);
        ɵngcc0.ɵɵtemplate(18, DatatableComponent_18_Template, 1, 0, undefined, 15);
        ɵngcc0.ɵɵtemplate(19, DatatableComponent_p_footer_19_Template, 2, 1, "p-footer", 15);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(20, DatatableComponent_div_20_Template, 3, 5, "div", 16);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(21, DatatableComponent_ng_template_21_Template, 4, 4, "ng-template", null, 17, ɵngcc0.ɵɵtemplateRefExtractor);
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("blocked", ctx.blockContent);
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("ngClass", ctx.defaultButtons && ctx.verticalButtons ? "p-grid p-col-11" : "p-grid p-col-12");
        ɵngcc0.ɵɵadvance(4);
        ɵngcc0.ɵɵtextInterpolate(ctx.title);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", ctx.showVisibleColumnsControl);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction1(20, _c8, ctx.filterOnColumn));
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction1(22, _c8, ctx.showVisibleColumnsControl));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction4(24, _c9, ctx.defaultButtons && ctx.verticalButtons, !ctx.defaultButtons || !ctx.verticalButtons, ctx.editMode == "row", ctx.editingRow));
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("value", ctx.value)("rows", ctx.rows)("paginator", true)("selectionMode", ctx.selectionMode)("responsive", true)("scrollable", ctx.enableScroll)("selection", ctx.selectedRow)("editMode", ctx.editMode)("rowHover", true)("dataKey", ctx.dataKey);
        ɵngcc0.ɵɵadvance(4);
        ɵngcc0.ɵɵproperty("ngIf", ctx.emptyMessage);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.showPaginationFooter && ctx.totalRecords() > 0);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.defaultButtons && ctx.verticalButtons);
    } }, directives: [ɵngcc3.BlockUI, ɵngcc4.ProgressSpinner, ɵngcc5.NgClass, ɵngcc5.NgIf, ɵngcc6.ButtonDirective, ɵngcc7.Table, ɵngcc8.PrimeTemplate, ɵngcc9.ShowColumn, ɵngcc5.NgForOf, ɵngcc5.NgTemplateOutlet, ɵngcc7.SortableColumn, ɵngcc5.NgStyle, ɵngcc7.SortIcon, ɵngcc10.FilterColumn, ɵngcc7.SelectableRow, ɵngcc7.ContextMenuRow, ɵngcc7.EditableRow, ɵngcc7.CellEditor, ɵngcc11.DefaultValueAccessor, ɵngcc12.InputText, ɵngcc11.NgControlStatus, ɵngcc11.NgModel, ɵngcc13.ActionButtonComponent, ɵngcc8.Footer, ɵngcc14.DatatableButtonComponent, ɵngcc15.DatatableSplitbuttonComponent], styles: ["body .p-datatable .p-datatable-data tr td{word-wrap:break-word}.horizontal-buttons{display:flex;flex-flow:row wrap;justify-content:flex-end}.horizontal-button{padding:0 3px}.horizontal-buttons-header{font-size:1.3em;word-wrap:break-word}.center-spinner{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;min-height:100vh}.text-right{text-align:right}basis-show-column .p-multiselect-panel.p-widget{width:100%;max-width:100%}basis-show-column{padding-right:15px;border-right:1px solid #747474;margin-right:10px}.table-tools{width:100%;text-align:right;margin-bottom:-10px;display:flex;align-items:center}.table-tools h3{text-align:left;float:left;margin:0}.table-tools a{color:#16695c;border-radius:100px;width:20px;height:20px;padding:6px;display:inline-table;margin-left:3px;font-size:15px;text-align:center;line-height:20px}.table-tools a:hover{color:#1aa590;cursor:pointer}.table-tools a.active{color:#16695c;background-color:#e8e8e8;box-shadow:inset 0 2px 3px rgba(0,0,0,.4392156862745098)}.table-tools .tools{display:inline-flex;align-items:center;justify-content:flex-end}.edicao-tabela,.edita-linha{position:relative}tr.editing td{padding-bottom:75px!important}.editar-campos{opacity:0;position:absolute;width:100%;background-color:rgba(0,0,0,.4196078431372549);left:0;margin-top:0;display:flex;align-items:center;justify-content:center;min-height:35px;transition:all .3s ease-in-out;z-index:1}.editar-campos button{color:#fff;font-size:14px;padding:6px 30px 10px;border-radius:5px;height:28px;width:120px!important}.bt-cancelar,.bt-salvar{margin:0 10px}"], encapsulation: 2 });
DatatableComponent.ctorParameters = () => [
    { type: ChangeDetectorRef },
    { type: DataProviderFactory },
    { type: Authorization }
];
DatatableComponent.propDecorators = {
    title: [{ type: Input }],
    splitButton: [{ type: Input }],
    value: [{ type: Input }],
    type: [{ type: Input }],
    rows: [{ type: Input }],
    rowsPerPageOptions: [{ type: Input }],
    url: [{ type: Input }],
    extraParams: [{ type: Input }],
    paginationParameters: [{ type: Input }],
    showPaginationFooter: [{ type: Input }],
    disableEdit: [{ type: Input }],
    disableView: [{ type: Input }],
    disableDelete: [{ type: Input }],
    selectionMode: [{ type: Input }],
    enableButtonsScroll: [{ type: Input }],
    emptyMessage: [{ type: Input }],
    verticalButtons: [{ type: Input }],
    defaultButtons: [{ type: Input }],
    enableScroll: [{ type: Input }],
    scrollHeight: [{ type: Input }],
    scrollWidth: [{ type: Input }],
    rulesToHide: [{ type: Input }],
    rulesToShowEdit: [{ type: Input }],
    rulesToShowDelete: [{ type: Input }],
    rulesToHideView: [{ type: Input }],
    rulesToHideEdit: [{ type: Input }],
    rulesToHideDelete: [{ type: Input }],
    disableLoadingBlockUI: [{ type: Input }],
    rowStyleClass: [{ type: Input }],
    filterOnColumn: [{ type: Input }],
    customFilterOptions: [{ type: Input }],
    buttonClick: [{ type: Output }],
    pDatatableComponent: [{ type: ViewChild, args: [DataTable, { static: true },] }],
    extraButtons: [{ type: ContentChildren, args: [DatatableButtonComponent,] }],
    columns: [{ type: ContentChildren, args: [Column,] }],
    startedLoading: [{ type: Output }],
    finishedLoading: [{ type: Output }],
    onRowSelected: [{ type: Output }],
    showVisibleColumnsControl: [{ type: Input }],
    editMode: [{ type: Input }],
    dataKey: [{ type: Input }],
    onRowEditEvent: [{ type: Output }]
};
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DatatableComponent, [{
        type: Component,
        args: [{
                selector: 'basis-datatable',
                template: "<p-blockUI [blocked]=\"blockContent\">\n    <div class=\"center-spinner\">\n        <p-progressSpinner></p-progressSpinner>\n    </div>\n</p-blockUI>\n<div [ngClass]=\"(defaultButtons && verticalButtons) ? 'p-grid p-col-11' : 'p-grid p-col-12'\">\n    <div class=\"table-tools\">\n        <div class=\"p-col-8 nopad\">\n            <h3 class=\"\">{{ title }}</h3>\n        </div>\n        <div class=\"p-col-4 nopad tools\">\n            <basis-show-column *ngIf=\"showVisibleColumnsControl\" [columns]=\"columns\" (updateVisibleColumns)=\"updateVisibleColumns($event)\"></basis-show-column>\n            <button pButton \n                pRipple \n                type=\"button\" \n                icon=\"fas fa-sliders-h\"\n                class=\"p-button-rounded p-button-outlined p-mr-2 p-mb-2\" \n                [ngClass]=\"{'active':filterOnColumn}\"\n                (click)=\"filterOnColumn = !this.filterOnColumn\">\n            </button>\n            <button pButton \n                pRipple \n                type=\"button\" \n                icon=\"fas fa-columns\" \n                [ngClass]=\"{'active':showVisibleColumnsControl}\"\n                class=\"p-button-rounded p-button-outlined p-mr-2 p-mb-2\"\n                (click)=\"showVisibleColumnsControl = !this.showVisibleColumnsControl\">\n            </button>\n        </div>\n    </div>\n</div>\n<div class=\"p-grid\">\n    <div [ngClass]=\"{\n            'p-col-11' : (defaultButtons && verticalButtons),\n            'p-col-12' : (!defaultButtons || !verticalButtons),\n            'edicao-tabela' : editMode == 'row',\n            'editing-row': editingRow\n        }\">\n        <p-table\n            [value]=\"value\"\n            [rows]=\"rows\"\n            [paginator]=\"true\"\n            [selectionMode]=\"selectionMode\"\n            [responsive]=\"true\"\n            [scrollable]=\"enableScroll\"\n            [(selection)]=\"selectedRow\"\n            [editMode]=\"editMode\"\n            (onRowSelect)=\"onSelectChange($event)\"\n            (onRowUnselect)=\"onSelectChange($event)\"\n            styleClass=\"p-datatable-customers\" \n            [rowHover]=\"true\"\n            #datatable\n            [dataKey]=\"dataKey\">\n            <ng-template pTemplate=\"header\" let-columns>\n                <div class=\"p-g\" *ngIf=\"defaultButtons && !verticalButtons\">\n                    <div *ngIf=\"showHorizontalButtonsHeader\" class=\"p-g-4 p-sm-12\">\n                        <span class=\"horizontal-buttons-header\">{{ horizontalButtonsHeader }}</span>\n                    </div>\n                    <div [ngClass]=\"{\n                        'horizontal-buttons': true,\n                        'p-sm-12': true,\n                        'p-g-8': showHorizontalButtonsHeader,\n                        'p-g-12': !showHorizontalButtonsHeader}\">\n                        <ng-container *ngTemplateOutlet=\"defaultButtons\"></ng-container>\n                        <ng-content select=\"horizontalButtons\"></ng-content>\n                    </div>\n                </div>\n                <tr>\n                    <th *ngFor=\"let col of columns\"\n                        [pSortableColumn]=\"col.sortable ? col.field : null\"\n                        [ngStyle]=\"{'display': visibleColumns[col.field]}\">\n                        {{col.header}}\n                        <p-sortIcon *ngIf=\"col.sortable\" [field]=\"col.field\"></p-sortIcon>\n                    </th>\n                </tr>\n                <tr class=\"header-filter-column\" *ngIf=\"filterOnColumn\">\n                    <th *ngFor=\"let col of columns\" [ngStyle]=\"{'display': visibleColumns[col.field]}\">\n                        <basis-filter-column\n                            *ngIf=\"col.field != 'actions'\"\n                            [listaOriginal]=\"filterSelectOptions\"\n                            [lista]=\"filterSelectOptions\"\n                            [field]=\"col.field\"\n                            [updateFiltro]=\"updateFilterColumn\"\n                            (outputEvent)=\"filterColumn(col.field, $event)\"\n                            [filterType]=\"col.filterType\"\n                            [tableType]=\"type\"\n                            [customFilterOptions]=\"customFilterOptions\">\n                        </basis-filter-column>\n                    </th>\n                </tr>\n            </ng-template>\n            <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-editing=\"editing\" let-ri=\"rowIndex\">\n                <tr [pSelectableRow]=\"rowData\"\n                    [pContextMenuRow]=\"rowData\"\n                    [pEditableRow]=\"rowData\"\n                    [ngClass]=\"{'editing': editing}\"\n                    (mouseover)=\"editarLinhaOver($event)\"\n                    (mouseleave)=\"editarLinhaOut($event)\">\n                    <ng-container *ngFor=\"let col of columns; last as isLast\">\n                        <td *ngIf=\"col.field != 'actions'\" [ngStyle]=\"{'display': visibleColumns[col.field]}\">\n                            <ng-container *ngIf=\"!editMode\">\n                                <span *ngIf=\"!col.bodyTemplate\" [innerHTML]=\"rowData[col.field]\"></span>\n                                <ng-container\n                                    *ngIf=\"col.bodyTemplate\"\n                                    [ngTemplateOutlet]=\"col.bodyTemplate\"\n                                    [ngTemplateOutletContext]=\"{ rowData: rowData, col: col }\">\n                                </ng-container>\n                            </ng-container>\n        \n                            <ng-container *ngIf=\"editMode\">\n                                <p-cellEditor>\n                                    <ng-template pTemplate=\"input\">\n                                        <span *ngIf=\"!col.outputTemplate && col.editable == false\" [innerHTML]=\"rowData[col.field]\"></span>\n                                        <div class=\"p-md-12\" *ngIf=\"!col.inputTemplate && col.editable != false\">\n                                            <div class=\"p-g form-group\">\n                                                <div class=\"p-md-12\">\n                                                    <span class=\"md-inputfield\">\n                                                        <input pInputText type=\"text\" [(ngModel)]=\"rowData[col.field]\" [style]=\"{'width':'100%'}\">\n                                                        <label>{{ col.header }}</label>\n                                                    </span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <ng-container\n                                            *ngIf=\"col.inputTemplate\"\n                                            [ngTemplateOutlet]=\"col.inputTemplate\"\n                                            [ngTemplateOutletContext]=\"{ 'rowData': rowData, 'col': col }\">\n                                        </ng-container>\n                                    </ng-template>\n                                    <ng-template pTemplate=\"output\">\n                                        <span *ngIf=\"!col.outputTemplate\" [innerHTML]=\"rowData[col.field]\"></span>\n                                        <ng-container\n                                            *ngIf=\"col.outputTemplate\"\n                                            [ngTemplateOutlet]=\"col.outputTemplate\"\n                                            [ngTemplateOutletContext]=\"{ rowData: rowData, col: col }\">\n                                        </ng-container>\n                                    </ng-template>\n                                </p-cellEditor>\n                            </ng-container>\n                        </td>\n                        <td width=\"8%\" class=\"action-column\" *ngIf=\"col.field == 'actions'\">\n                            <basis-action-button>\n                                <ng-container\n                                    *ngIf=\"col.outputTemplate\"\n                                    [ngTemplateOutlet]=\"col.outputTemplate\"\n                                    [ngTemplateOutletContext]=\"{ rowData: rowData }\">\n                                </ng-container>\n                            </basis-action-button>\n                        </td>\n                        <!-- TODO: verificar implementa\u00E7\u00E3o -->\n                        <!-- <div *ngIf=\"isLast\" class=\"editar-campos\">\n                            <button *ngIf=\"!editing\" pButton type=\"button\" pInitEditableRow (click)=\"onRowEditInitEvent($event, rowData)\">Editar</button>\n                            <button *ngIf=\"editing\" pButton type=\"button\" pSaveEditableRow class=\"p-button-success\" style=\"margin-right: .5em\" (click)=\"onRowEditSaveEvent($event, rowData)\">Salvar</button>\n                            <button *ngIf=\"editing\" pButton type=\"button\" pCancelEditableRow class=\"p-button-danger\" (click)=\"onRowEditCancelEvent($event, rowData, ri)\">Cancelar</button>\n                        </div> -->\n                    </ng-container>\n                </tr>\n            </ng-template>\n            <ng-template *ngIf=\"emptyMessage\">\n                {{ emptyMessage }}\n            </ng-template>\n            <p-footer *ngIf=\"showPaginationFooter && totalRecords() > 0\">\n                {{ paginationFooterText(footerMsg) }}\n            </p-footer>\n        </p-table>\n    </div>\n    <div *ngIf=\"defaultButtons && verticalButtons\"\n        class=\"p-col-1\"\n        [style.position]=\"enableButtonsScroll ? 'sticky' : ''\"\n        [style.top]=\"enableButtonsScroll ? '15%' : ''\">\n            <ng-container *ngTemplateOutlet=\"defaultButtonsTemplate\"></ng-container>\n            <ng-content select=\"basis-datatable-button\"></ng-content>\n    </div>\n</div>\n<ng-template #defaultButtonsTemplate>\n    <basis-datatable-button [bTooltip]=\"selectedRow != null ? 'Editar' : 'Escolha um registro para editar.' \"\n        [class.horizontal-button]=\"!verticalButtons\" class=\"p-button-success\" icon=\"pi pi-pencil\" (click)=\"onClick('edit', $event)\"\n        *ngIf=\"!disableEdit && checkRolesToButton('rulesToShowView') && checkRolesToButton('rulesToHideView')\" [disabled]=\"selectedRow == null\">\n    </basis-datatable-button>\n\n    <basis-datatable-button [bTooltip]=\"selectedRow != null ? 'Visualizar' : 'Escolha um registro para visualizar.'\"\n        [class.horizontal-button]=\"!verticalButtons\" icon=\"pi pi-search-plus\" (click)=\"onClick('view', $event)\"\n        *ngIf=\"!disableView && checkRolesToButton('rulesToShowEdit') && checkRolesToButton('rulesToHideEdit')\" [disabled]=\"selectedRow == null\">\n    </basis-datatable-button>\n\n    <basis-datatable-button [bTooltip]=\"selectedRow != null ? 'Excluir' : 'Escolha um registro para excluir.'\"\n        [class.horizontal-button]=\"!verticalButtons\" class=\"p-button-danger\" icon=\"pi pi-trash\" (click)=\"onClick('delete', $event)\"\n        *ngIf=\"!disableDelete && checkRolesToButton('rulesToShowDelete') && checkRolesToButton('rulesToHideDelete')\" [disabled]=\"selectedRow == null\">\n    </basis-datatable-button>\n\n    <datatable-splitbutton\n        [icon]=\"splitButton.icon\"\n        [class]=\"splitButton.class\"\n        [items]=\"splitButton.itens\"\n        [label]=\"splitButton.label\"\n        [method]=\"splitButton.method\"\n        *ngIf=\"splitButton\">\n    </datatable-splitbutton>\n</ng-template>\n",
                encapsulation: ViewEncapsulation.None,
                styles: ["body .p-datatable .p-datatable-data tr td{word-wrap:break-word}.horizontal-buttons{display:flex;flex-flow:row wrap;justify-content:flex-end}.horizontal-button{padding:0 3px}.horizontal-buttons-header{font-size:1.3em;word-wrap:break-word}.center-spinner{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;min-height:100vh}.text-right{text-align:right}basis-show-column .p-multiselect-panel.p-widget{width:100%;max-width:100%}basis-show-column{padding-right:15px;border-right:1px solid #747474;margin-right:10px}.table-tools{width:100%;text-align:right;margin-bottom:-10px;display:flex;align-items:center}.table-tools h3{text-align:left;float:left;margin:0}.table-tools a{color:#16695c;border-radius:100px;width:20px;height:20px;padding:6px;display:inline-table;margin-left:3px;font-size:15px;text-align:center;line-height:20px}.table-tools a:hover{color:#1aa590;cursor:pointer}.table-tools a.active{color:#16695c;background-color:#e8e8e8;box-shadow:inset 0 2px 3px rgba(0,0,0,.4392156862745098)}.table-tools .tools{display:inline-flex;align-items:center;justify-content:flex-end}.edicao-tabela,.edita-linha{position:relative}tr.editing td{padding-bottom:75px!important}.editar-campos{opacity:0;position:absolute;width:100%;background-color:rgba(0,0,0,.4196078431372549);left:0;margin-top:0;display:flex;align-items:center;justify-content:center;min-height:35px;transition:all .3s ease-in-out;z-index:1}.editar-campos button{color:#fff;font-size:14px;padding:6px 30px 10px;border-radius:5px;height:28px;width:120px!important}.bt-cancelar,.bt-salvar{margin:0 10px}"]
            }]
    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc1.DataProviderFactory }, { type: ɵngcc2.Authorization }]; }, { value: [{
            type: Input
        }], type: [{
            type: Input
        }], rows: [{
            type: Input
        }], showPaginationFooter: [{
            type: Input
        }], disableEdit: [{
            type: Input
        }], disableView: [{
            type: Input
        }], disableDelete: [{
            type: Input
        }], selectionMode: [{
            type: Input
        }], enableButtonsScroll: [{
            type: Input
        }], emptyMessage: [{
            type: Input
        }], verticalButtons: [{
            type: Input
        }], defaultButtons: [{
            type: Input
        }], enableScroll: [{
            type: Input
        }], disableLoadingBlockUI: [{
            type: Input
        }], filterOnColumn: [{
            type: Input
        }], customFilterOptions: [{
            type: Input
        }], buttonClick: [{
            type: Output
        }], startedLoading: [{
            type: Output
        }], finishedLoading: [{
            type: Output
        }], onRowSelected: [{
            type: Output
        }], showVisibleColumnsControl: [{
            type: Input
        }], dataKey: [{
            type: Input
        }], onRowEditEvent: [{
            type: Output
        }], title: [{
            type: Input
        }], splitButton: [{
            type: Input
        }], rowsPerPageOptions: [{
            type: Input
        }], url: [{
            type: Input
        }], extraParams: [{
            type: Input
        }], paginationParameters: [{
            type: Input
        }], scrollHeight: [{
            type: Input
        }], scrollWidth: [{
            type: Input
        }], rulesToHide: [{
            type: Input
        }], rulesToShowEdit: [{
            type: Input
        }], rulesToShowDelete: [{
            type: Input
        }], rulesToHideView: [{
            type: Input
        }], rulesToHideEdit: [{
            type: Input
        }], rulesToHideDelete: [{
            type: Input
        }], rowStyleClass: [{
            type: Input
        }], pDatatableComponent: [{
            type: ViewChild,
            args: [DataTable, { static: true }]
        }], extraButtons: [{
            type: ContentChildren,
            args: [DatatableButtonComponent]
        }], columns: [{
            type: ContentChildren,
            args: [Column]
        }], editMode: [{
            type: Input
        }] }); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YXRhYmxlLmNvbXBvbmVudC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcHJpbWVuZy1jb21wb25lbnRzL3NyYy9saWIvZGF0YXRhYmxlL2RhdGF0YWJsZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILFNBQVMsRUFDVCxTQUFTLEVBQ1QsS0FBSyxFQUNMLE1BQU0sRUFDTixlQUFlLEVBRWYsaUJBQWlCLEVBSWpCLFlBQVksRUFDWixpQkFBaUIsRUFDcEIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLEtBQUssSUFBSSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFbkQsT0FBTyxFQUFFLG1CQUFtQixFQUFFLGdCQUFnQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDL0UsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDeEUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFHOUQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUU5QztBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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b21wb25lbnQsXG4gICAgVmlld0NoaWxkLFxuICAgIElucHV0LFxuICAgIE91dHB1dCxcbiAgICBDb250ZW50Q2hpbGRyZW4sXG4gICAgUXVlcnlMaXN0LFxuICAgIENoYW5nZURldGVjdG9yUmVmLFxuICAgIEFmdGVyVmlld0luaXQsXG4gICAgQWZ0ZXJDb250ZW50SW5pdCxcbiAgICBPbkluaXQsXG4gICAgRXZlbnRFbWl0dGVyLFxuICAgIFZpZXdFbmNhcHN1bGF0aW9uXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVGFibGUgYXMgRGF0YVRhYmxlIH0gZnJvbSAncHJpbWVuZy90YWJsZSc7XG5pbXBvcnQgeyBEYXRhUHJvdmlkZXIgfSBmcm9tICcuL2RhdGFwcm92aWRlcic7XG5pbXBvcnQgeyBEYXRhUHJvdmlkZXJGYWN0b3J5LCBEYXRhUHJvdmlkZXJUeXBlIH0gZnJvbSAnLi9kYXRhcHJvdmlkZXItZmFjdG9yeSc7XG5pbXBvcnQgeyBEYXRhdGFibGVCdXR0b25Db21wb25lbnQgfSBmcm9tICcuL2RhdGF0YWJsZS1idXR0b24uY29tcG9uZW50JztcbmltcG9ydCB7IERhdGF0YWJsZUNsaWNrRXZlbnQgfSBmcm9tICcuL2RhdGF0YWJsZS1jbGljay1ldmVudCc7XG5pbXBvcnQgeyBEYXRhdGFibGVQYWdpbmF0aW9uUGFyYW1ldGVycyB9IGZyb20gJy4vZGF0YXRhYmxlLXBhZ2luYXRpb24tcGFyYW1ldGVycyc7XG5pbXBvcnQgeyBIdHRwRXJyb3JSZXNwb25zZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IEF1dGhvcml6YXRpb24gfSBmcm9tICdAbnV2ZW0vYW5ndWxhci1iYXNlJztcbmltcG9ydCB7IENvbHVtbiB9IGZyb20gJy4vcC1jb2x1bW4uZGlyZWN0aXZlJztcblxuLyoqXG4gKiBDbGFzcyBEYXRhdGFibGVDb21wb25lbnRcbiAqIEBjbGFzc1xuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2Jhc2lzLWRhdGF0YWJsZScsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2RhdGF0YWJsZS5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vZGF0YXRhYmxlLmNvbXBvbmVudC5jc3MnXSxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIERhdGF0YWJsZUNvbXBvbmVudFxuICAgIGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCwgQWZ0ZXJDb250ZW50SW5pdCwgT25Jbml0IHtcbiAgICBpc1Nob3dHbG9iYWxGaWx0ZXIgPSBmYWxzZTtcbiAgICBpc1Nob3dGaWx0ZXJSb3cgPSBmYWxzZTtcblxuICAgIGdldCBzaG93R2xvYmFsRmlsdGVyKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1Nob3dHbG9iYWxGaWx0ZXI7XG4gICAgfVxuXG4gICAgc2V0IHNob3dHbG9iYWxGaWx0ZXIoc2hvd0dsb2JhbEZpbHRlcjogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmlzU2hvd0dsb2JhbEZpbHRlciA9IHNob3dHbG9iYWxGaWx0ZXI7XG4gICAgfVxuXG4gICAgZ2V0IHNob3dGaWx0ZXJSb3coKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzU2hvd0ZpbHRlclJvdztcbiAgICB9XG5cbiAgICBzZXQgc2hvd0ZpbHRlclJvdyhTaG93RmlsdGVyUm93OiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuaXNTaG93RmlsdGVyUm93ID0gU2hvd0ZpbHRlclJvdztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzZWxlY3RlZFJvdyBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHthbnl9XG4gICAgICovXG4gICAgc2VsZWN0ZWRSb3c6IGFueTtcblxuICAgIC8qKlxuICAgICAqIGRhdGFQcm92aWRlciBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtEYXRhUHJvdmlkZXJ9XG4gICAgICovXG4gICAgZGF0YVByb3ZpZGVyOiBEYXRhUHJvdmlkZXI7XG5cbiAgICAvKipcbiAgICAgKiBmaWx0ZXJQYXJhbXMgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7YW55fVxuICAgICAqL1xuICAgIGZpbHRlclBhcmFtczogYW55ID0ge307XG5cbiAgICAvKipcbiAgICAgKiBmb290ZXJNc2cgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGZvb3Rlck1zZzogc3RyaW5nID0gJyc7XG5cbiAgICAvKipcbiAgICAgKiBvcmRlckluU29ydCBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIG9yZGVySW5Tb3J0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiB0aXRsZSBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgQElucHV0KCkgdGl0bGU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIHNwbGl0QnV0dG9uIHByb3BlcnR5XG4gICAgICogQHR5cGUge2FueX1cbiAgICAgKi9cbiAgICBASW5wdXQoKSBzcGxpdEJ1dHRvbjogYW55O1xuXG4gICAgLyoqXG4gICAgICogdmFsdWUgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7YW55fVxuICAgICAqL1xuICAgIEBJbnB1dCgpIHZhbHVlOiBhbnlbXSA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogdHlwZSBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIERhdGFQcm92aWRlclR5cGVcbiAgICAgKi9cbiAgICBASW5wdXQoKSB0eXBlOiBEYXRhUHJvdmlkZXJUeXBlID0gRGF0YVByb3ZpZGVyVHlwZS5TZXJ2ZXI7XG5cbiAgICAvKipcbiAgICAgKiByb3dzIHByb3BlcnR5XG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBASW5wdXQoKSByb3dzOiBudW1iZXIgPSA1O1xuXG4gICAgLyoqXG4gICAgICogcm93c1BlclBhZ2VPcHRpb25zIHByb3BlcnR5XG4gICAgICogQHR5cGUge251bWJlcltdfVxuICAgICAqL1xuICAgIEBJbnB1dCgpIHJvd3NQZXJQYWdlT3B0aW9uczogbnVtYmVyW107XG5cbiAgICAvKipcbiAgICAgKiB1cmwgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIEBJbnB1dCgpIHVybDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogZXh0cmFQYXJhbXMgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7YW55fVxuICAgICAqL1xuICAgIEBJbnB1dCgpIGV4dHJhUGFyYW1zOiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBwYWdpbmF0aW9uUGFyYW1ldGVycyBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtEYXRhdGFibGVQYWdpbmF0aW9uUGFyYW1ldGVyc31cbiAgICAgKi9cbiAgICBASW5wdXQoKSBwYWdpbmF0aW9uUGFyYW1ldGVyczogRGF0YXRhYmxlUGFnaW5hdGlvblBhcmFtZXRlcnM7XG5cbiAgICAvKipcbiAgICAgKiBzaG93UGFnaW5hdGlvbkZvb3RlciBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIEBJbnB1dCgpIHNob3dQYWdpbmF0aW9uRm9vdGVyID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBkaXNhYmxlRWRpdCBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIEBJbnB1dCgpIGRpc2FibGVFZGl0ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBkaXNhYmxlVmlldyBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIEBJbnB1dCgpIGRpc2FibGVWaWV3ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBkaXNhYmxlRGVsZXRlIHByb3BlcnR5XG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgQElucHV0KCkgZGlzYWJsZURlbGV0ZSA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogc2VsZWN0aW9uTW9kZSBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgQElucHV0KCkgc2VsZWN0aW9uTW9kZSA9ICdzaW5nbGUnO1xuXG4gICAgLyoqXG4gICAgICogZW5hYmxlQnV0dG9uc1Njcm9sbCBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIEBJbnB1dCgpIGVuYWJsZUJ1dHRvbnNTY3JvbGwgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIGVtcHR5TWVzc2FnZSBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgQElucHV0KCkgZW1wdHlNZXNzYWdlID0gJ05lbmh1bSByZWdpc3RybyBlbmNvbnRyYWRvLic7XG5cbiAgICAvKipcbiAgICAgKiB2ZXJ0aWNhbEJ1dHRvbnMgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBASW5wdXQoKSB2ZXJ0aWNhbEJ1dHRvbnMgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogZGVmYXVsdEJ1dHRvbnMgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBASW5wdXQoKSBkZWZhdWx0QnV0dG9ucyA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBlbmFibGVTY3JvbGwgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBASW5wdXQoKSBlbmFibGVTY3JvbGwgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIHNjcm9sbEhlaWdodCBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgQElucHV0KCkgc2Nyb2xsSGVpZ2h0OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBzY3JvbGxXaWR0aCBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgQElucHV0KCkgc2Nyb2xsV2lkdGg6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIHJ1bGVzVG9IaWRlIHByb3BlcnR5XG4gICAgICogQHR5cGUge2FueX1cbiAgICAgKi9cbiAgICBASW5wdXQoKSBydWxlc1RvSGlkZTogYW55O1xuXG4gICAgLyoqXG4gICAgICogcnVsZXNUb1Nob3dFZGl0IHByb3BlcnR5XG4gICAgICogQHR5cGUge2FueX1cbiAgICAgKi9cbiAgICBASW5wdXQoKSBydWxlc1RvU2hvd0VkaXQ6IGFueTtcblxuICAgIC8qKlxuICAgICAqIHJ1bGVzVG9TaG93RGVsZXRlIHByb3BlcnR5XG4gICAgICogQHR5cGUge2FueX1cbiAgICAgKi9cbiAgICBASW5wdXQoKSBydWxlc1RvU2hvd0RlbGV0ZTogYW55O1xuXG4gICAgLyoqXG4gICAgICogcnVsZXNUb0hpZGVWaWV3IHByb3BlcnR5XG4gICAgICogQHR5cGUge2FueX1cbiAgICAgKi9cbiAgICBASW5wdXQoKSBydWxlc1RvSGlkZVZpZXc6IGFueTtcblxuICAgIC8qKlxuICAgICAqIHJ1bGVzVG9IaWRlRWRpdCBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHthbnl9XG4gICAgICovXG4gICAgQElucHV0KCkgcnVsZXNUb0hpZGVFZGl0OiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBydWxlc1RvSGlkZURlbGV0ZSBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHthbnl9XG4gICAgICovXG4gICAgQElucHV0KCkgcnVsZXNUb0hpZGVEZWxldGU6IGFueTtcblxuICAgIC8qKlxuICAgICAqIGhvcml6b250YWxCdXR0b25zSGVhZGVyIHByb3BlcnR5XG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBob3Jpem9udGFsQnV0dG9uc0hlYWRlcjogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogZGlzYWJsZUxvYWRpbmdCbG9ja1VJIHByb3BlcnR5XG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgQElucHV0KCkgZGlzYWJsZUxvYWRpbmdCbG9ja1VJID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiByb3dTdHlsZUNsYXNzIHByb3BlcnR5XG4gICAgICogQHR5cGUge2FueX1cbiAgICAgKi9cbiAgICBASW5wdXQoKSByb3dTdHlsZUNsYXNzOiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBmaWx0ZXJPbkNvbHVtbiBwcm9wZXJ0eVxuICAgICAqL1xuICAgIEBJbnB1dCgpIGZpbHRlck9uQ29sdW1uID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBmaWx0ZXJTZWxlY3RPcHRpb25zIHByb3BlcnR5XG4gICAgICovXG4gICAgZmlsdGVyU2VsZWN0T3B0aW9uczogYW55W10gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIHVwZGF0ZUZpbHRyb0hpc3RvcmljbyBwcm9wZXJ0eVxuICAgICAqL1xuICAgIHVwZGF0ZUZpbHRlckNvbHVtbjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogY3VzdG9tRmlsdGVyT3B0aW9ucyBwcm9wZXJ0eVxuICAgICAqL1xuICAgIEBJbnB1dCgpIGN1c3RvbUZpbHRlck9wdGlvbnM6IE9iamVjdCA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogYnV0dG9uQ2xpY2sgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7RXZlbnRFbWl0dGVyPGFueT59XG4gICAgICovXG4gICAgQE91dHB1dCgpIGJ1dHRvbkNsaWNrOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gICAgLyoqXG4gICAgICogcERhdGF0YWJsZUNvbXBvbmVudCBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtUYWJsZX1cbiAgICAgKi9cbiAgICBAVmlld0NoaWxkKERhdGFUYWJsZSwgeyBzdGF0aWM6IHRydWUgfSkgcERhdGF0YWJsZUNvbXBvbmVudDogRGF0YVRhYmxlO1xuXG4gICAgLyoqXG4gICAgICogZXh0cmFCdXR0b25zIHByb3BlcnR5XG4gICAgICogQHR5cGUge1F1ZXJ5TGlzdDxEYXRhdGFibGVCdXR0b25Db21wb25lbnQ+fVxuICAgICAqL1xuICAgIEBDb250ZW50Q2hpbGRyZW4oRGF0YXRhYmxlQnV0dG9uQ29tcG9uZW50KSBleHRyYUJ1dHRvbnM6IFF1ZXJ5TGlzdDxEYXRhdGFibGVCdXR0b25Db21wb25lbnQ+O1xuXG4gICAgLyoqXG4gICAgICogY29sdW1ucyBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHthbnlbXX1cbiAgICAgKi9cbiAgICBAQ29udGVudENoaWxkcmVuKENvbHVtbikgY29sdW1uczogQ29sdW1uW107XG5cbiAgICAvKipcbiAgICAgKiBzdGFydGVkTG9hZGluZyBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtFdmVudEVtaXR0ZXI8dm9pZD59XG4gICAgICovXG4gICAgQE91dHB1dCgpIHN0YXJ0ZWRMb2FkaW5nOiBFdmVudEVtaXR0ZXI8dm9pZD4gPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG5cbiAgICAvKipcbiAgICAgKiBmaW5pc2hlZExvYWRpbmcgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7RXZlbnRFbWl0dGVyPEh0dHBFcnJvclJlc3BvbnNlPn1cbiAgICAgKi9cbiAgICBAT3V0cHV0KCkgZmluaXNoZWRMb2FkaW5nOiBFdmVudEVtaXR0ZXI8SHR0cEVycm9yUmVzcG9uc2U+ID0gbmV3IEV2ZW50RW1pdHRlcjxIdHRwRXJyb3JSZXNwb25zZT4oKTtcblxuICAgIC8qKlxuICAgICAqIG9uUm93U2VsZWN0ZWQgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7RXZlbnRFbWl0dGVyPGFueT59XG4gICAgICovXG4gICAgQE91dHB1dCgpIG9uUm93U2VsZWN0ZWQ6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgICAvKipcbiAgICAgKiBzaG93SG9yaXpvbnRhbEJ1dHRvbnNIZWFkZXIgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBzaG93SG9yaXpvbnRhbEJ1dHRvbnNIZWFkZXIgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIGJsb2NrQ29udGVudFxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIGJsb2NrQ29udGVudCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogdmlzaWJsZUNvbHVtbnMgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHZpc2libGVDb2x1bW5zOiBPYmplY3QgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIHNob3dWaXNpYmxlQ29sdW1uc0NvbnRyb2wgcHJvcGVydHlcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBASW5wdXQoKSBzaG93VmlzaWJsZUNvbHVtbnNDb250cm9sOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBlZGl0TW9kZSBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgQElucHV0KCkgZWRpdE1vZGU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIGRhdGFLZXkgcHJvcGVydHlcbiAgICAgKiBJZGVudGlmaWNhZG9yIMO6bmljbyBwYXJhIGNhZGEgcmVnaXN0cm8gZGEgdGFiZWxhXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBASW5wdXQoKSBkYXRhS2V5OiBzdHJpbmcgPSAnaWQnO1xuXG4gICAgLyoqXG4gICAgICogb25Sb3dFZGl0RXZlbnQgcHJvcGVydHlcbiAgICAgKiBFdmVudG8gZGlzcGFyYWRvIHF1YW5kbyBvIHVzdcOhcmlvIHJlYWxpemEgYcOnw7VlcyBkZSBlZGnDp8OjbyBlbSB1bWEgbGluaGEgZGEgdGFiZWxhXG4gICAgICogQHR5cGUge0V2ZW50RW1pdHRlcjx2b2lkPn1cbiAgICAgKi9cbiAgICBAT3V0cHV0KCkgb25Sb3dFZGl0RXZlbnQ6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgICBjbG9uZWRSb3dEYXRhOiB7IFtzOiBzdHJpbmddOiBhbnkgfSA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogZXJyb3JNZXNzYWdlIHByb3BlcnR5XG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBwcml2YXRlIGVycm9yTWVzc2FnZSA9ICdPY29ycmV1IHVtIGVycm8gYW8gY2FycmVnYXIgb3MgZGFkb3MgZGEgdGFiZWxhLiBUZW50ZSBub3ZhbWVudGUuJztcblxuICAgIC8qKlxuICAgICAqIG9yaWdpbmFsRW1wdHlNZXNzYWdlIHByb3BlcnR5XG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBwcml2YXRlIG9yaWdpbmFsRW1wdHlNZXNzYWdlOiBzdHJpbmc7XG5cbiAgICBlZGl0aW5nUm93ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBjb25zdHJ1Y3RvciBtZXRob2RcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0NoYW5nZURldGVjdG9yUmVmfSBjaGFuZ2VEZXRlY3RvclJlZlxuICAgICAqIEBwYXJhbSB7RGF0YVByb3ZpZGVyRmFjdG9yeX0gZGF0YVByb3ZpZGVyRmFjdG9yeVxuICAgICAqIEBwYXJhbSB7QXV0aG9yaXphdGlvbn0gYXV0aG9yaXphdGlvblNlcnZpY2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBjaGFuZ2VEZXRlY3RvclJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgICAgIHByaXZhdGUgZGF0YVByb3ZpZGVyRmFjdG9yeTogRGF0YVByb3ZpZGVyRmFjdG9yeSxcbiAgICAgICAgcHJpdmF0ZSBhdXRob3JpemF0aW9uU2VydmljZTogQXV0aG9yaXphdGlvblxuICAgICkge31cblxuICAgIC8qKlxuICAgICAqIG5nT25Jbml0IG1ldGhvZFxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5kYXRhUHJvdmlkZXIgPSB0aGlzLmRhdGFQcm92aWRlckZhY3RvcnkuY3JlYXRlKHRoaXMudHlwZSwgdGhpcyk7XG4gICAgICAgIHRoaXMucERhdGF0YWJsZUNvbXBvbmVudC5yb3dzID0gdGhpcy5yb3dzO1xuICAgICAgICB0aGlzLnN1YnNjcmliZVRvTG9hZGluZ0V2ZW50cygpO1xuICAgICAgICB0aGlzLmluaXRSb3dzUGVyUGFnZU9wdGlvbnNJZlByZXNlbnQoKTtcbiAgICAgICAgdGhpcy5kZWZpbmVJZlNob3VsZFNob3dIb3Jpem9udGFsQnV0dG9uc0hlYWRlcigpO1xuICAgICAgICB0aGlzLnVwZGF0ZU9uVmFsdWVDaGFuZ2UoKTtcblxuICAgICAgICB0aGlzLmZpbmlzaGVkTG9hZGluZy5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVPblZhbHVlQ2hhbmdlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHN1YnNjcmliZUZyb21WYWx1ZUNoYW5nZSBtZXRob2RcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgcHJpdmF0ZSB1cGRhdGVPblZhbHVlQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLmZpbHRlclNlbGVjdE9wdGlvbnMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUubWFwKChpdGVtOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlclNlbGVjdE9wdGlvbnMucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc3Vic2NyaWJlVG9Mb2FkaW5nRXZlbnRzIG1ldGhvZFxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBwcml2YXRlIHN1YnNjcmliZVRvTG9hZGluZ0V2ZW50cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRpc2FibGVMb2FkaW5nQmxvY2tVSSkge1xuICAgICAgICAgICAgdGhpcy5vcmlnaW5hbEVtcHR5TWVzc2FnZSA9IHRoaXMuZW1wdHlNZXNzYWdlO1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkTG9hZGluZy5zdWJzY3JpYmUoKCkgPT4gdGhpcy5vblN0YXJ0ZWRMb2FkaW5nKCkpO1xuICAgICAgICAgICAgdGhpcy5maW5pc2hlZExvYWRpbmcuc3Vic2NyaWJlKGVycm9yID0+XG4gICAgICAgICAgICAgICAgdGhpcy5vbkZpbmlzaGVkTG9hZGluZyhlcnJvcilcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBvblN0YXJ0ZWRMb2FkaW5nIG1ldGhvZFxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBwcml2YXRlIG9uU3RhcnRlZExvYWRpbmcoKSB7XG4gICAgICAgIHRoaXMuYmxvY2tDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lbXB0eU1lc3NhZ2UgPSB0aGlzLm9yaWdpbmFsRW1wdHlNZXNzYWdlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBvbkZpbmlzaGVkTG9hZGluZyBtZXRob2RcbiAgICAgKiBAcGFyYW0ge0h0dHBFcnJvclJlc3BvbnNlfSBlcnJvclxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBwcml2YXRlIG9uRmluaXNoZWRMb2FkaW5nKGVycm9yOiBIdHRwRXJyb3JSZXNwb25zZSkge1xuICAgICAgICB0aGlzLmJsb2NrQ29udGVudCA9IGZhbHNlO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuZW1wdHlNZXNzYWdlID0gdGhpcy5lcnJvck1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBpbml0Um93c1BlclBhZ2VPcHRpb25zSWZQcmVzZW50IG1ldGhvZFxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBwcml2YXRlIGluaXRSb3dzUGVyUGFnZU9wdGlvbnNJZlByZXNlbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnJvd3NQZXJQYWdlT3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5wRGF0YXRhYmxlQ29tcG9uZW50LnJvd3NQZXJQYWdlT3B0aW9ucyA9IHRoaXMucm93c1BlclBhZ2VPcHRpb25zO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZGVmaW5lSWZTaG91bGRTaG93SG9yaXpvbnRhbEJ1dHRvbnNIZWFkZXIgbWV0aG9kXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIHByaXZhdGUgZGVmaW5lSWZTaG91bGRTaG93SG9yaXpvbnRhbEJ1dHRvbnNIZWFkZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmhvcml6b250YWxCdXR0b25zSGVhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dIb3Jpem9udGFsQnV0dG9uc0hlYWRlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBuZ0FmdGVyVmlld0luaXQgbWV0aG9kXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAgICAgdGhpcy5zZXRFeHRyYVBhcmFtcygpO1xuICAgICAgICB0aGlzLnBEYXRhdGFibGVDb21wb25lbnQuY29sdW1ucyA9IHRoaXMuY29sdW1ucztcbiAgICAgICAgdGhpcy5wRGF0YXRhYmxlQ29tcG9uZW50Lm5nQWZ0ZXJDb250ZW50SW5pdCgpO1xuICAgICAgICB0aGlzLnNldEFsbENvbHVtbnNWaXNpYmxlKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHNldEV4dHJhUGFyYW1zIG1ldGhvZFxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBwcml2YXRlIHNldEV4dHJhUGFyYW1zKCkge1xuICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMuZXh0cmFQYXJhbXMpIHtcbiAgICAgICAgICAgIHRoaXMucERhdGF0YWJsZUNvbXBvbmVudFtpXSA9IHRoaXMuZXh0cmFQYXJhbXNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogbmdBZnRlckNvbnRlbnRJbml0IG1ldGhvZFxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBuZ0FmdGVyQ29udGVudEluaXQoKSB7XG4gICAgICAgIHRoaXMuZXh0cmFCdXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICAgICAgICAgIGJ1dHRvbi5jbGljay5zdWJzY3JpYmUoZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25DbGljayhidXR0b24ubmFtZSwgZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG9uQ2xpY2sgbWV0aG9kXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJ1dHRvblxuICAgICAqIEBwYXJhbSB7YW55fSBldmVudFxuICAgICAqIEByZXR1cm4gdm9pZFxuICAgICAqL1xuICAgIG9uQ2xpY2soYnV0dG9uOiBzdHJpbmcsIGV2ZW50OiBhbnkpIHtcbiAgICAgICAgdGhpcy5idXR0b25DbGljay5lbWl0KFxuICAgICAgICAgICAgbmV3IERhdGF0YWJsZUNsaWNrRXZlbnQoYnV0dG9uLCB0aGlzLnNlbGVjdGVkUm93KVxuICAgICAgICApO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy5yZXNldFNlbGVjdGVkUm93KGJ1dHRvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogb25TZWxlY3RDaGFuZ2UgbWV0aG9kXG4gICAgICogQHBhcmFtIHthbnl9IGV2ZW50XG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIG9uU2VsZWN0Q2hhbmdlKGV2ZW50OiBhbnkpIHtcbiAgICAgICAgdGhpcy5vblJvd1NlbGVjdGVkLmVtaXQodGhpcy5zZWxlY3RlZFJvdyk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuc2VsZWN0ZWRSb3cpICYmIHRoaXMuc2VsZWN0ZWRSb3cubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVNdWx0aXBsZUJ1dHRvbnNTdGF0dXModHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU11bHRpcGxlQnV0dG9uc1N0YXR1cyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB1cGRhdGVNdWx0aXBsZUJ1dHRvbnNTdGF0dXMgbWV0aG9kXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoYXNNdWx0aXBsZVNlbGVjdGlvblxuICAgICAqIEByZXR1cm4gdm9pZFxuICAgICAqL1xuICAgIHByaXZhdGUgdXBkYXRlTXVsdGlwbGVCdXR0b25zU3RhdHVzKGhhc011bHRpcGxlU2VsZWN0aW9uOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuZXh0cmFCdXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICAgICAgICAgIGlmIChoYXNNdWx0aXBsZVNlbGVjdGlvbiAmJiAhYnV0dG9uLmFsbG93TXVsdGlwbGVTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBidXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVmcmVzaCBtZXRob2RcbiAgICAgKiBAcGFyYW0gcXVlcnlcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgcmVmcmVzaChxdWVyeT86IGFueSkge1xuICAgICAgICB0aGlzLmRhdGFQcm92aWRlci5sb2FkKHF1ZXJ5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXNldFNlbGVjdGVkUm93IG1ldGhvZFxuICAgICAqIEBwYXJhbSBidXR0b25cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgcmVzZXRTZWxlY3RlZFJvdyhidXR0b246IHN0cmluZykge1xuICAgICAgICBpZiAoYnV0dG9uID09PSAnZGVsZXRlJykge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvdyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXNldCBtZXRob2RcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMucERhdGF0YWJsZUNvbXBvbmVudC5maXJzdCA9IDA7XG4gICAgICAgIHRoaXMuZGF0YVByb3ZpZGVyLnJlc2V0KCk7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHBhZ2luYXRpb25Gb290ZXJUZXh0IG1ldGhvZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtc2dcbiAgICAgKiBAcmV0dXJucyBzdHJpbmdcbiAgICAgKi9cbiAgICBwYWdpbmF0aW9uRm9vdGVyVGV4dChtc2c6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHJlZ2lzdHJvcyA9IHRoaXMudG90YWxSZWNvcmRzKCkgPT09IDEgPyAncmVnaXN0cm8nIDogJ3JlZ2lzdHJvcyc7XG4gICAgICAgIGlmIChtc2cgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gYEV4aWJpbmRvOiAke3RoaXMuY3VycmVudEZpcnN0SW5kZXgoKX0gYSAke3RoaXMuY3VycmVudExhc3RJbmRleCgpfSBkZSAke3RoaXMudG90YWxSZWNvcmRzKCl9ICR7cmVnaXN0cm9zfWA7XG4gICAgICAgIH1cbiAgICAgICAgbXNnID0gbXNnLnJlcGxhY2UoJ3t0b3RhbFJlY29yZHN9JywgdGhpcy50b3RhbFJlY29yZHMoKS50b1N0cmluZygpKTtcbiAgICAgICAgbXNnID0gbXNnLnJlcGxhY2UoXG4gICAgICAgICAgICAne2N1cnJlbnRGaXJzdEluZGV4fScsXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRGaXJzdEluZGV4KCkudG9TdHJpbmcoKVxuICAgICAgICApO1xuICAgICAgICBtc2cgPSBtc2cucmVwbGFjZShcbiAgICAgICAgICAgICd7Y3VycmVudExhc3RJbmRleH0nLFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50TGFzdEluZGV4KCkudG9TdHJpbmcoKVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbXNnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGN1cnJlbnRGaXJzdEluZGV4IG1ldGhvZFxuICAgICAqIEByZXR1cm5zIG51bWJlclxuICAgICAqL1xuICAgIGN1cnJlbnRGaXJzdEluZGV4KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnBEYXRhdGFibGVDb21wb25lbnQuZmlyc3QgKyAxO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGN1cnJlbnRMYXN0SW5kZXggbWV0aG9kXG4gICAgICogQHJldHVybnMgbnVtYmVyXG4gICAgICovXG4gICAgY3VycmVudExhc3RJbmRleCgpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBjdXJyZW50TGFzdEluZGV4OiBudW1iZXIgPVxuICAgICAgICAgICAgdGhpcy5wRGF0YXRhYmxlQ29tcG9uZW50LmZpcnN0ICsgdGhpcy5wRGF0YXRhYmxlQ29tcG9uZW50LnJvd3M7XG4gICAgICAgIGlmIChjdXJyZW50TGFzdEluZGV4ID4gdGhpcy50b3RhbFJlY29yZHMoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG90YWxSZWNvcmRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRMYXN0SW5kZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdG90YWxSZWNvcmRzIG1ldGhvZFxuICAgICAqIEByZXR1cm5zIG51bWJlclxuICAgICAqL1xuICAgIHRvdGFsUmVjb3JkcygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5wRGF0YXRhYmxlQ29tcG9uZW50LnRvdGFsUmVjb3JkcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjaGVja1JvbGVzVG9CdXR0b24gbWV0aG9kXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJ1dHRvblxuICAgICAqIEByZXR1cm4gYm9vbGVhblxuICAgICAqL1xuICAgIGNoZWNrUm9sZXNUb0J1dHRvbihidXR0b246IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpc1tidXR0b25dKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgYnV0dG9uID09PSAncnVsZXNUb0hpZGUnIHx8XG4gICAgICAgICAgICAgICAgYnV0dG9uID09PSAncnVsZXNUb1Nob3dFZGl0JyB8fFxuICAgICAgICAgICAgICAgIGJ1dHRvbiA9PT0gJ3J1bGVzVG9TaG93RGVsZXRlJ1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja1VzZUJ1dHRvbnMoYnV0dG9uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRob3JpemF0aW9uU2VydmljZS5oYXNSb2xlKHRoaXNbYnV0dG9uXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gIXRoaXMuYXV0aG9yaXphdGlvblNlcnZpY2UuaGFzUm9sZSh0aGlzW2J1dHRvbl0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNoZWNrVXNlQnV0dG9ucyBtZXRob2RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYnV0dG9uXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIGNoZWNrVXNlQnV0dG9ucyhidXR0b246IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpc1tidXR0b25dICYmIHRoaXNbYnV0dG9uLnJlcGxhY2UoJ1Nob3cnLCAnSGlkZScpXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICdOw6NvIMOpIHBvc3PDrXZlbCBkZWZpbmlyIGRvaXMgdmFsb3JlcyBkZSByb2xlcyBwYXJhIG9zIGJvdMO1ZXMgcGFkcsO1ZXMuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGZpbHRlciBtZXRob2RcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgZmlsdGVyKCkge1xuICAgICAgICBmb3IgKGxldCBwcm9wIGluIHRoaXMuZmlsdGVyUGFyYW1zKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJQYXJhbXNbcHJvcF0gPT09ICcnIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJQYXJhbXNbcHJvcF0ubGVuZ3RoID09PSAwXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5maWx0ZXJQYXJhbXNbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMuZmlsdGVyUGFyYW1zKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCh0aGlzLmZpbHRlclBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNw6l0b2RvIHBhcmEgZmlsdHJhciBwb3IgY29sdW5hc1xuICAgICAqIEBwYXJhbSBjb2x1bW4gY2hhdmUgZGEgY29sdW5hIG5hIHRhYmVsYVxuICAgICAqIEBwYXJhbSBmaWx0ZXJzIHZhbG9yIGRvIGZpbHRyb1xuICAgICAqL1xuICAgIGZpbHRlckNvbHVtbihjb2x1bW46IHN0cmluZywgZmlsdGVyczogYW55KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgICAgICBpZiAoZmlsdGVycyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICB2YWx1ZXNbY29sdW1uXSA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaXRlbSBpbiBmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbCA9XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcnNbaXRlbV0gaW5zdGFuY2VvZiBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZmlsdGVyc1tpdGVtXS52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBmaWx0ZXJzW2l0ZW1dO1xuICAgICAgICAgICAgICAgIHZhbHVlc1tjb2x1bW5dLnB1c2godmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlc1tjb2x1bW5dID0gZmlsdGVycztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpbHRlclBhcmFtcyA9IHsgLi4udGhpcy5maWx0ZXJQYXJhbXMsIC4uLnZhbHVlcyB9O1xuXG4gICAgICAgIHJldHVybiB0aGlzLmZpbHRlcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaWNpYSB0b2RhcyBhcyBjb2x1bmFzIGRhIHRhYmVsYSBjb21vIHZpc8OtdmVpc1xuICAgICAqL1xuICAgIHNldEFsbENvbHVtbnNWaXNpYmxlKCkge1xuICAgICAgICB0aGlzLmNvbHVtbnMuZm9yRWFjaChjb2wgPT4ge1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlQ29sdW1uc1tjb2wuZmllbGRdID0gJ3RhYmxlLWNlbGwnO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWZXJpZmljYSBzZSB1bWEgY29sdW5hIGRldmUgZXN0YXIgdmlzw612ZWxcbiAgICAgKiBAcGFyYW0gY29sdW1uIHN0cmluZ1xuICAgICAqIEBwYXJhbSB2aXNpYmxlQ29sdW1ucyBBcnJheVxuICAgICAqL1xuICAgIHZpc2libGVDb2x1bW5DaGVjayhjb2x1bW46IHN0cmluZywgdmlzaWJsZUNvbHVtbnM6IFtdKSB7XG4gICAgICAgIHJldHVybiB2aXNpYmxlQ29sdW1ucy5zb21lKChpdGVtOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmZpZWxkID8gaXRlbS5maWVsZCA9PSBjb2x1bW4gOiB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdHVhbHppYSBvcyB2YWxvcmVzIGRhIHZhcmnDoXZlbCAndmlzaWJsZUNvbHVucycgcGFyYSBtb3N0cmFyIG91IG7Do28gYXMgY29sdW5hc1xuICAgICAqIEBwYXJhbSBjb2x1bW5zIGFycmF5XG4gICAgICovXG4gICAgdXBkYXRlVmlzaWJsZUNvbHVtbnMoY29sdW1uczogW10pIHtcbiAgICAgICAgZm9yIChsZXQgY29sIGluIHRoaXMudmlzaWJsZUNvbHVtbnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpc2libGVDb2x1bW5DaGVjayhjb2wsIGNvbHVtbnMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlQ29sdW1uc1tjb2xdID0gJ3RhYmxlLWNlbGwnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGVDb2x1bW5zW2NvbF0gPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblJvd0VkaXRJbml0RXZlbnQoZXZlbnQsIHJvd0RhdGE6IGFueSkge1xuICAgICAgICAvLyBjb25zdCB0ciA9IGV2ZW50LnNyY0VsZW1lbnQuY2xvc2VzdCgndHInKTtcblxuICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgLy8gICAgIHRoaXMuZWRpdGluZ1JvdyA9IHRydWU7XG4gICAgICAgIC8vICAgICBjb25zdCB0b3AgPSB0ci5vZmZzZXRUb3A7XG4gICAgICAgIC8vICAgICBjb25zdCBoZWlnaHQgPSB0ci5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIC8vICAgICBjb25zdCBlZGl0QnV0dG9ucyA9IHRyLnF1ZXJ5U2VsZWN0b3IoJy5lZGl0YXItY2FtcG9zJyk7XG5cbiAgICAgICAgLy8gICAgIGVkaXRCdXR0b25zLnN0eWxlLnRvcCA9ICh0b3AgKyBoZWlnaHQpICsgJ3B4JztcbiAgICAgICAgLy8gICAgIGVkaXRCdXR0b25zLnN0eWxlLmhlaWdodCA9Jzc1cHgnO1xuICAgICAgICAvLyAgICAgZWRpdEJ1dHRvbnMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNkMGQwZDAnO1xuICAgICAgICAvLyAgICAgZWRpdEJ1dHRvbnMuc3R5bGUub3BhY2l0eSA9IDE7XG5cbiAgICAgICAgLy8gICAgIHRoaXMuY2xvbmVkUm93RGF0YVtyb3dEYXRhLmlkXSA9IHsuLi5yb3dEYXRhfTtcbiAgICAgICAgLy8gICAgIHRoaXMub25Sb3dFZGl0RXZlbnQuZW1pdCh7ZXZlbnQ6IFwiaW5pdFwiLCBkYXRhOiByb3dEYXRhfSk7XG4gICAgICAgIC8vIH0sIG51bGwgLCB0cik7XG5cbiAgICB9XG5cbiAgICBvblJvd0VkaXRTYXZlRXZlbnQoZXZlbnQsIHJvd0RhdGE6IGFueSkge1xuICAgICAgICB0aGlzLm9uUm93RWRpdEV2ZW50LmVtaXQoe2V2ZW50OiBcInNhdmVcIiwgZGF0YTogcm93RGF0YX0pO1xuICAgICAgICB0aGlzLnJlc2V0RWRpdGluZ01vZGUoZXZlbnQpO1xuICAgIH1cblxuICAgIG9uUm93RWRpdENhbmNlbEV2ZW50KGV2ZW50LCByb3dEYXRhOiBhbnksIGluZGV4OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy52YWx1ZVtpbmRleF0gPSB0aGlzLmNsb25lZFJvd0RhdGFbcm93RGF0YS5pZF07XG5cbiAgICAgICAgZGVsZXRlIHRoaXMuY2xvbmVkUm93RGF0YVtyb3dEYXRhW3RoaXMuZGF0YUtleV1dO1xuICAgICAgICB0aGlzLm9uUm93RWRpdEV2ZW50LmVtaXQoe2V2ZW50OiBcImNhbmNlbFwiLCBkYXRhOiByb3dEYXRhfSk7XG5cbiAgICAgICAgdGhpcy5yZXNldEVkaXRpbmdNb2RlKGV2ZW50KTtcbiAgICB9XG5cbiAgICByZXNldEVkaXRpbmdNb2RlKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGVkaXRCdXR0b25zID0gZXZlbnQuc3JjRWxlbWVudC5jbG9zZXN0KCd0cicpLnF1ZXJ5U2VsZWN0b3IoJy5lZGl0YXItY2FtcG9zJyk7XG5cbiAgICAgICAgZWRpdEJ1dHRvbnMuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgIGVkaXRCdXR0b25zLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjMDAwMDAwNmInO1xuICAgICAgICBlZGl0QnV0dG9ucy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgIHRoaXMuZWRpdGluZ1JvdyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGVkaXRhckxpbmhhT3ZlcihldmVudCkge1xuICAgICAgICAvLyBpZiAoIXRoaXMuZWRpdGluZ1JvdyAmJiB0aGlzLmVkaXRNb2RlID09ICdyb3cnKSB7XG4gICAgICAgIC8vICAgICBjb25zdCB0b3AgPSBldmVudC5zcmNFbGVtZW50LmNsb3Nlc3QoJ3RyJykub2Zmc2V0VG9wO1xuICAgICAgICAvLyAgICAgY29uc3QgaGVpZ2h0ID0gZXZlbnQuc3JjRWxlbWVudC5jbG9zZXN0KCd0cicpLm9mZnNldEhlaWdodDtcbiAgICAgICAgLy8gICAgIGNvbnN0IGVkaXRCdXR0b25zID0gZXZlbnQuc3JjRWxlbWVudC5jbG9zZXN0KCd0cicpLnF1ZXJ5U2VsZWN0b3IoJy5lZGl0YXItY2FtcG9zJyk7XG5cbiAgICAgICAgLy8gICAgIGVkaXRCdXR0b25zLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIC8vICAgICBlZGl0QnV0dG9ucy5zdHlsZS50b3AgPSB0b3AgKyAncHgnO1xuICAgICAgICAvLyAgICAgZWRpdEJ1dHRvbnMuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgLy8gICAgIGVkaXRCdXR0b25zLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjMDAwMDAwNmInO1xuICAgICAgICAvLyAgICAgZWRpdEJ1dHRvbnMuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgIC8vIH1cbiAgICB9XG5cbiAgICBlZGl0YXJMaW5oYU91dChldmVudCkge1xuICAgICAgICAvLyBpZiAoIXRoaXMuZWRpdGluZ1Jvdykge1xuICAgICAgICAvLyAgICAgY29uc3QgZWRpdEJ1dHRvbnMgPSBldmVudC5zcmNFbGVtZW50LmNsb3Nlc3QoJ3RyJykucXVlcnlTZWxlY3RvcignLmVkaXRhci1jYW1wb3MnKTtcbiAgICAgICAgLy8gICAgIGVkaXRCdXR0b25zLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIC8vICAgICBlZGl0QnV0dG9ucy5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgLy8gfVxuICAgIH1cblxufVxuIl19