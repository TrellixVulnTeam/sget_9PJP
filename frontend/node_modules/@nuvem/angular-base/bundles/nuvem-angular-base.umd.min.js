!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common/http"),require("@angular/core"),require("rxjs/operators"),require("rxjs"),require("@angular/common"),require("@angular/router"),require("@angular/forms")):"function"==typeof define&&define.amd?define("@nuvem/angular-base",["exports","@angular/common/http","@angular/core","rxjs/operators","rxjs","@angular/common","@angular/router","@angular/forms"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).nuvem=t.nuvem||{},t.nuvem["angular-base"]={}),t.ng.common.http,t.ng.core,t.rxjs.operators,t.rxjs,t.ng.common,t.ng.router,t.ng.forms)}(this,(function(t,e,r,o,n,i,s,c){"use strict";var a=function(){function t(){this.subject=new n.Subject,this.loaderStatus=this.subject.asObservable()}return t.prototype.show=function(){this.subject.next({status:!0})},t.prototype.hide=function(){this.subject.next({status:!1})},t}();a.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new a},token:a,providedIn:"root"}),a.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],a.ctorParameters=function(){return[]};var u=function(){function t(t){this.service=t}return t.prototype.intercept=function(t,r){var n=this;return this.isMutation(t.method)&&this.service.show(),r.handle(t).pipe(o.tap((function(t){t instanceof e.HttpResponse&&n.service.hide()}),(function(t){n.service.hide()})))},t.prototype.isMutation=function(t){return-1!==["DELETE","PATCH","POST","PUT"].indexOf(t)},t}();u.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new u(r.ɵɵinject(a))},token:u,providedIn:"root"}),u.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],u.ctorParameters=function(){return[{type:a}]};var p=new r.InjectionToken("versiontag.config"),l=function(){function t(t){this.config=t}return t.prototype.ngOnInit=function(){this.version=this.config.appVersion},t}();l.decorators=[{type:r.Component,args:[{selector:"app-version-tag",template:'<span style="margin-left: 5px;">\n    Versão: {{version}}\n</span>'}]}],l.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.Inject,args:[p]}]}]},l.propDecorators={cssClass:[{type:r.Input}]};var f=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:p,useValue:e}]}},t}();f.decorators=[{type:r.NgModule,args:[{imports:[i.CommonModule,s.RouterModule],declarations:[l],exports:[l]}]}];var d=function(){},h=function(){function t(t){this.authenticationService=t}return t.prototype.click=function(){this.authenticationService.logout()},t}();h.decorators=[{type:r.Directive,args:[{selector:"[logout]"}]}],h.ctorParameters=function(){return[{type:d}]},h.propDecorators={click:[{type:r.HostListener,args:["click"]}]};var v=function(){function t(t,e){this.el=t,this.authenticationService=e}return t.prototype.ngOnInit=function(){if(this.authenticationService.isAuthenticated()){var t=this.authenticationService.getUser();this.el.nativeElement.innerHTML+=this.user?t[this.user]:t.name}},t}();v.decorators=[{type:r.Directive,args:[{selector:"[user]"}]}],v.ctorParameters=function(){return[{type:r.ElementRef},{type:d}]},v.propDecorators={user:[{type:r.Input}]};var y=function(){function t(t){this.authenticationService=t}return t.prototype.ngOnInit=function(){this.authenticationService.login()},t}();y.decorators=[{type:r.Component,args:[{selector:"app-login-success",template:""}]}],y.ctorParameters=function(){return[{type:d}]};var g=function(){},m=function(){function t(t,e,r,o){this.templateRef=t,this.viewContainer=e,this.authorization=r,this.authentication=o}return Object.defineProperty(t.prototype,"hasRole",{set:function(t){var e=this;this.viewContainer.clear(),t?(this.loginNotifications&&this.loginNotifications.unsubscribe(),this.loginNotifications=this.authentication.getLoginNotifications().subscribe((function(){e.authorization.hasRole(t)&&(e.viewContainer.clear(),e.viewContainer.createEmbeddedView(e.templateRef))}))):this.viewContainer.createEmbeddedView(this.templateRef)},enumerable:!1,configurable:!0}),t.prototype.ngOnDestroy=function(){this.loginNotifications&&this.loginNotifications.unsubscribe()},t}();m.decorators=[{type:r.Directive,args:[{selector:"[hasRole]"}]}],m.ctorParameters=function(){return[{type:r.TemplateRef},{type:r.ViewContainerRef},{type:g},{type:d}]},m.propDecorators={hasRole:[{type:r.Input}]};var b=function(){function t(t,e,r){this.hostComponent=t,this.auth=e,this.blockUiService=r,this.loadingContent="",this.waitingLogin=!1}return t.prototype.ngOnInit=function(){this.waitingLogin=!this.auth.isAuthenticated()},t.prototype.ngAfterContentInit=function(){this.auth.isAuthenticated()||this.blockUiService.show()},t.prototype.ngAfterViewInit=function(){var t=this;if(!this.auth.isAuthenticated())for(var e=1;e<this.hostComponent.nativeElement.children.length;e++)this.hostComponent.nativeElement.children[e].style.display="none";this.loginNotifications=this.auth.getLoginNotifications().subscribe((function(){for(var e=1;e<t.hostComponent.nativeElement.children.length;e++)t.hostComponent.nativeElement.children[e].style.display="inherit";t.waitingLogin=!1,t.blockUiService.hide()}))},t.prototype.ngOnDestroy=function(){this.loginNotifications.unsubscribe()},t}();b.decorators=[{type:r.Component,args:[{selector:"[hide-while-login]",template:'<span *ngIf="waitingLogin">{{ loadingContent }}</span>\n<ng-content></ng-content>'}]}],b.ctorParameters=function(){return[{type:r.ElementRef},{type:d},{type:a}]},b.propDecorators={loadingContent:[{type:r.Input}]};var I=new r.InjectionToken("auth.config"),S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function C(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}Object.create;function E(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var o,n,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return s}function j(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(E(arguments[e]));return t}Object.create;var w=function(t){function e(e){var r=t.call(this)||this;return r.authenticationService=e,r}return C(e,t),e.prototype.hasRole=function(t){if(t){var e=this.authenticationService.getUser();return t instanceof Array?e.roles.some((function(e){return t.some((function(t){return e===t}))})):e.roles.some((function(e){return e===t}))}return!0},e}(g);function k(t){return null!==t.storage.getItem(t.userStorageIndex)}function N(t){window.location.href=t.loginUrl}w.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new w(r.ɵɵinject(d))},token:w,providedIn:"root"}),w.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],w.ctorParameters=function(){return[{type:d}]};var T=function(t){function e(e,r){var o=t.call(this)||this;return o.config=e,o.http=r,o.loginNotifications=new n.BehaviorSubject(o.getUser()),o}return C(e,t),e.prototype.isAuthenticated=function(){return k(this.config)},e.prototype.redirect=function(){N(this.config)},e.prototype.login=function(){var t=this;this.getUserDetails().subscribe((function(e){t.setUser(e),t.loginNotifications.next(e)}))},e.prototype.logout=function(){this.loginNotifications.next(null),this.config.storage.removeItem(this.config.userStorageIndex),window.location.href=this.config.logoutUrl},e.prototype.getUserDetails=function(){return this.http.get(this.config.baseUrl+this.config.detailsUrl)},e.prototype.setUser=function(t){this.config.storage.setItem(this.config.userStorageIndex,JSON.stringify(t))},e.prototype.getUser=function(){return JSON.parse(this.config.storage.getItem(this.config.userStorageIndex))},e.prototype.getLoginNotifications=function(){return this.loginNotifications.pipe(o.filter((function(t){return null!=t})))},e}(d);T.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new T(r.ɵɵinject(I),r.ɵɵinject(e.HttpClient))},token:T,providedIn:"root"}),T.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],T.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.Inject,args:[I]}]},{type:e.HttpClient}]};var P=function(){function t(t){this.authenticationService=t}return t.prototype.shouldHandle=function(t){return t instanceof e.HttpErrorResponse&&401==t.status},t.prototype.handle=function(t){this.authenticationService.redirect()},t}();P.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new P(r.ɵɵinject(d))},token:P,providedIn:"root"}),P.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],P.ctorParameters=function(){return[{type:d}]};var R=function(){},A=function(){},D=function(){function t(t){this.token=t}return t.prototype.intercept=function(t,r){var n=this;return this.token.hasToken()&&(t=this.token.setTokenInHeader(t)),r.handle(t).pipe(o.tap((function(t){if(t instanceof e.HttpResponse){var r=n.token.extractTokenFromHeaders(t.headers);null!==r&&n.token.storeToken(r)}return t})))},t}();D.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new D(r.ɵɵinject(A))},token:D,providedIn:"root"}),D.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],D.ctorParameters=function(){return[{type:A}]};var O=function(t){function r(e){var r=t.call(this)||this;return r.config=e,r}return C(r,t),r.prototype.extractTokenFromHeaders=function(t){return t.get(r.HEADER_STRING)},r.prototype.storeToken=function(t){this.config.storage.setItem(this.config.tokenStorageIndex,t.toString())},r.prototype.setTokenInHeader=function(t){var o;return t.clone({headers:new e.HttpHeaders((o={},o[r.HEADER_STRING]=this.config.storage.getItem(this.config.tokenStorageIndex),o))})},r.prototype.hasToken=function(){return null!==this.config.storage.getItem(this.config.tokenStorageIndex)},r}(A);O.TOKEN_PREFIX="Bearer",O.HEADER_STRING="Authorization",O.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new O(r.ɵɵinject(I))},token:O,providedIn:"root"}),O.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],O.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.Inject,args:[I]}]}]};var x=function(){function t(){}return t.forRoot=function(r){return{ngModule:t,providers:[{provide:I,useValue:r},r.tokenStorageIndex?[{provide:A,useClass:O},{provide:e.HTTP_INTERCEPTORS,useClass:D,multi:!0}]:[]]}},t}();x.decorators=[{type:r.NgModule,args:[{imports:[i.CommonModule,s.RouterModule,e.HttpClientModule],declarations:[h,v,y,m,b],providers:[w,T,{provide:R,useClass:P,multi:!0},{provide:g,useClass:w},{provide:d,useClass:T}],exports:[h,v,y,m,b]}]}];var H=function(){function t(t){this.authenticationService=t}return t.prototype.canActivate=function(t,e){return!!this.authenticationService.isAuthenticated()||(this.authenticationService.redirect(),!1)},t.prototype.canActivateChild=function(t,e){return this.canActivate(t,e)},t}();H.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new H(r.ɵɵinject(d))},token:H,providedIn:"root"}),H.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],H.ctorParameters=function(){return[{type:d}]};var M=function(){function t(t){this.fontSize=1,this.renderer=t.createRenderer(null,null)}return t.prototype.enableHighContrast=function(){this.renderer.addClass(document.body,"contraste")},t.prototype.disableHighContrast=function(){this.renderer.removeClass(document.body,"contraste")},t.prototype.increaseFontSize=function(){this.fontSize+=.1,this.renderer.setStyle(document.querySelector("div.layout-wrapper"),"font-size",this.fontSize+"em")},t.prototype.decreaseFontSize=function(){this.fontSize-=.1,this.renderer.setStyle(document.querySelector("div.layout-wrapper"),"font-size",this.fontSize+"em")},t.prototype.addAccessibilityIcons=function(){var t=document.querySelector(".p-button-icon-left, p-button-icon-righ");t&&this.renderer.setStyle(t,"aria-hidden",!0)},t.prototype.addAccessibilityMessages=function(t){var e="polite";"custom"!==t.severity.toLowerCase()&&"success"!==t.severity.toLowerCase()&&(e="assertive"),this.renderer.setStyle(document.querySelector("p-toast, p-growl"),"aria-live",e)},t}();M.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new M(r.ɵɵinject(r.RendererFactory2))},token:M,providedIn:"root"}),M.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],M.ctorParameters=function(){return[{type:r.RendererFactory2}]};var F=function(){};F.decorators=[{type:r.NgModule,args:[{imports:[i.CommonModule],providers:[M],exports:[]}]}];var L=function(){function t(){this.DATE_SEPARATOR="/"}return t.prototype.dateMask=function(t){if(t.target.value){var e=t.target.value.replace(/[^0-9]/g,"").substr(0,8);e.length>=3&&(e=e.replace(/^(\d{2})(\d{1,2})/,"$1"+this.DATE_SEPARATOR+"$2")),e.length>=6&&(e=e.replace(/^(\S{5})(\d{1,4})/,"$1"+this.DATE_SEPARATOR+"$2")),t.target.value=e}},t}();L.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new L},token:L,providedIn:"root"}),L.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}];var U=function(){};U.decorators=[{type:r.NgModule,args:[{imports:[],declarations:[],providers:[L],exports:[]}]}];var _=function(t){function e(e){var r=t.call(this)||this;return r.providers=e,r}return C(e,t),e.prototype.handleError=function(e){try{this.providers.forEach((function(t){t.shouldHandle(e)&&t.handle(e)}))}catch(t){}t.prototype.handleError.call(this,e)},e}(r.ErrorHandler);_.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new _(r.ɵɵinject(R))},token:_,providedIn:"root"}),_.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],_.ctorParameters=function(){return[{type:Array,decorators:[{type:r.Inject,args:[R]}]}]};var q=function(){},V=function(t,e,r,o,n,i,s){this.type=t,this.title=e,this.detail=r,this.status=o,this.instance=n,this.stacktrace=i,this.cause=s},z=function(){function t(t,e){this.notification=t,this.ngZone=e}return t.prototype.shouldHandle=function(t){return t instanceof e.HttpErrorResponse&&"application/problem+json"===t.headers.get("Content-Type")&&t.error},t.prototype.handle=function(t){var e=this;this.ngZone.run((function(){e.notification.addErrorProblem(new V(t.error.type,t.error.title,t.error.detail,t.error.status,t.error.instance))}))},t}();z.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new z(r.ɵɵinject(q),r.ɵɵinject(r.NgZone))},token:z,providedIn:"root"}),z.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],z.ctorParameters=function(){return[{type:q},{type:r.NgZone}]};var G=function(t,e,r){this.code=t,this.title=e,this.detail=r},Z=function(){function t(t,e){this.notification=t,this.ngZone=e}return t.prototype.shouldHandle=function(t){return t instanceof e.HttpErrorResponse&&!("application/problem+json"===t.headers.get("Content-Type")&&t.error)},t.prototype.handle=function(t){var e=this,r=this.getErrorByCode(t);this.ngZone.run((function(){e.notification.addErrorMessage(r.detail,r.title)}))},t.prototype.getErrorByCode=function(t){var e=$[t.status];return void 0===e?new G(t.status,t.statusText,t.message):e},t}();Z.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new Z(r.ɵɵinject(q),r.ɵɵinject(r.NgZone))},token:Z,providedIn:"root"}),Z.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],Z.ctorParameters=function(){return[{type:q},{type:r.NgZone}]};var $={401:new G(401,"Não Autenticado","Essa requisição requer um usuário autenticado."),403:new G(403,"Proibido","Essa requisição requer uma permissão no servidor da aplicação que o usuário não possui."),404:new G(404,"Não encontrado","Essa requisição não pode ser encontrada."),500:new G(500,"Erro desconhecido","O servidor encontrou uma condição inesperada."),502:new G(502,"Bad Gateway","O servidor recebeu uma resposta inválida de um serviço que utilizou para cumprir a requisição"),503:new G(503,"Serviço Indisponível","O servidor não pode atender a requisição nesse momento. Esta é uma condição temporária, tente novamente mais tarde"),504:new G(504,"Gateway Timeout","O servidor não conseguiu receber uma resposta a tempo esperado por um serviço que utilizou para cumprir a requisição")},B=function(){};B.decorators=[{type:r.NgModule,args:[{declarations:[],imports:[i.CommonModule],providers:[{provide:R,useClass:Z,multi:!0},{provide:R,useClass:z,multi:!0},{provide:r.ErrorHandler,useClass:_}]}]}];var J=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return C(e,t),e.prototype.addErrorMessage=function(t,e){console.error(e+" "+t)},e.prototype.addErrorProblem=function(t){console.error(t.title+" "+t.detail)},e}(q);J.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new J},token:J,providedIn:"root"}),J.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}];var K=function(){function t(t){var e=this;this.genericErrorService=t,this.errors=new n.ReplaySubject,null===localStorage.getItem("errorStack")&&localStorage.setItem("errorStack",JSON.stringify([])),this.getErrorsSubjects().forEach((function(t){e.errors.next(t)}))}return t.prototype.create=function(t){var e=this.createNamedError(t),r=this.getErrorsSubjects();r.length>=15&&r.shift(),r.push(e),localStorage.setItem("errorStack",JSON.stringify(r)),this.errors.next(e)},t.prototype.getErrorsSubjects=function(){return JSON.parse(localStorage.getItem("errorStack"))},t.prototype.createNamedError=function(t){var e,r,o=new Date,n=this.getErrorId(t);if("application/problem+json"===t.headers.get("Content-Type"))e="X-Correlation-ID: "+n+"\n                           createdAt: "+o+"\n                           status: "+t.status+"\n                           url: "+t.url+"\n                           body: "+t.error.detail+"\n                           stacktrace: "+t.error.stacktrace+"\n                           cause: "+t.error.cause,r=t.error.title;else{var i=this.genericErrorService.getErrorByCode(t);e="X-Correlation-ID: "+n+"\n                           createdAt: "+o+"\n                           status: "+t.status+"\n                           url: "+t.url+"\n                           body: "+i.detail,r=i.title}return{message:r,createdAt:o,correlationId:n,fullMessage:e}},t.prototype.getErrorId=function(t){var e;return t.headers.keys().every((function(t){return"X-CORRELATION-ID"!==t.toUpperCase()||(e=t,!1)})),e?t.headers.get(e):null},t}();K.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new K(r.ɵɵinject(Z))},token:K,providedIn:"root"}),K.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],K.ctorParameters=function(){return[{type:Z}]};var W=function(){function t(t){this.errorStackService=t}return t.prototype.shouldHandle=function(t){return t instanceof e.HttpErrorResponse},t.prototype.handle=function(t){this.errorStackService.create(t)},t}();W.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new W(r.ɵɵinject(K))},token:W,providedIn:"root"}),W.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],W.ctorParameters=function(){return[{type:K}]};var X=function(){function t(){}return t.prototype.transform=function(t){return null===t?"-":(t=t.replace(/[^0-9A-Za-z]/g,"")).substring(0,5)+"-"+t.substring(5,8)},t}();X.decorators=[{type:r.Pipe,args:[{name:"cep"}]}];var Y=function(){function t(){}return t.prototype.transform=function(t){return null===t||11!==t.length?t:(t=t.replace(/[^0-9A-Za-z]/g,"")).substring(0,3)+"."+t.substring(3,6)+"."+t.substring(6,9)+"-"+t.substring(9,11)},t}();Y.decorators=[{type:r.Pipe,args:[{name:"cpf"}]}];var Q=function(){function t(){}return t.prototype.transform=function(t){return null===t||14!==t.length?t:(t=t.replace(/[^0-9A-Za-z]/g,"")).substring(0,2)+"."+t.substring(2,5)+"."+t.substring(5,8)+"/"+t.substring(8,12)+"-"+t.substring(12,14)},t}();Q.decorators=[{type:r.Pipe,args:[{name:"cnpj"}]}];var tt=function(){function t(){}return t.prototype.transform=function(t,e,r){return t.replace(e,r)},t}();tt.decorators=[{type:r.Pipe,args:[{name:"regex"}]}];var et=function(){function t(){}return t.prototype.transform=function(t,e,r){return void 0===e&&(e=25),void 0===r&&(r="..."),t.length>e?""+t.substr(0,e)+r:t},t}();et.decorators=[{type:r.Pipe,args:[{name:"limit"}]}];var rt=function(){};rt.decorators=[{type:r.NgModule,args:[{imports:[],declarations:[X,Y,Q,tt,et],exports:[X,Y,Q,tt,et]}]}];var ot=function(){function t(){}return t.prototype.copy=function(t){var e="rtl"===document.documentElement.getAttribute("dir"),r=document.createElement("textarea");r.style.fontSize="12pt",r.style.border="0",r.style.padding="0",r.style.margin="0",r.style.position="absolute",r.style[e?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;r.style.top=o+"px",r.setAttribute("readonly",""),r.value=t,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r)},t}();ot.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new ot},token:ot,providedIn:"root"}),ot.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}];var nt=function(){function t(t){this.service=t,this.onClipboard=new r.EventEmitter}return t.prototype.copy=function(){try{this.service.copy(this.clipboard),this.onClipboard.emit(!0)}catch(t){throw this.onClipboard.emit(!1),t}},t}();nt.decorators=[{type:r.Directive,args:[{selector:"[clipboard]"}]}],nt.ctorParameters=function(){return[{type:ot}]},nt.propDecorators={clipboard:[{type:r.Input}],onClipboard:[{type:r.Output}],copy:[{type:r.HostListener,args:["click"]}]};var it=function(){};it.decorators=[{type:r.NgModule,args:[{imports:[],declarations:[nt],providers:[ot],exports:[nt]}]}];var st=function(){function t(t,e){this.elementRef=t,this.model=e}return t.prototype.ngOnInit=function(){var t=this;this.subscriber=this.model.control.valueChanges.subscribe((function(){var e=t.elementRef.nativeElement.value.replace(new RegExp(t.appUnmask),"");t.model.control.setValue(e,{emitEvent:!1,emitModelToViewChange:!1,emitViewToModelChange:!1})}))},t.prototype.ngOnDestroy=function(){this.subscriber.unsubscribe()},t}();st.decorators=[{type:r.Directive,args:[{selector:"[unmask]"}]}],st.ctorParameters=function(){return[{type:r.ElementRef},{type:c.NgControl}]},st.propDecorators={appUnmask:[{type:r.Input}]};var ct=function(){function t(t){this.el=t,this.regex=new RegExp(/[^0-9]$/g),this.specialKeys=["Backspace","Delete","Tab","End","Home","ArrowLeft","ArrowRight"]}return t.prototype.onKeyDown=function(t){var e=this.el.nativeElement.value.concat(t.key);-1===this.specialKeys.indexOf(t.key)&&e&&String(e).match(this.regex)&&t.preventDefault()},t}();ct.decorators=[{type:r.Directive,args:[{selector:"input[onlyNumbers]"}]}],ct.ctorParameters=function(){return[{type:r.ElementRef}]},ct.propDecorators={onKeyDown:[{type:r.HostListener,args:["keydown",["$event"]]}]};var at,ut=[ct,st],pt=function(){};pt.decorators=[{type:r.NgModule,args:[{declarations:ut,exports:ut}]}],(at=t.FormNotificationType||(t.FormNotificationType={}))[at.CLEAN=0]="CLEAN",at[at.FIELD=1]="FIELD";var lt=function(t,e){this.form=t,this.type=e},ft=function(e){function r(r,o,n){var i=e.call(this,r,t.FormNotificationType.FIELD)||this;return i.field=o,i.message=n,i}return C(r,e),r}(lt),dt=function(){function e(){this.formNotifications=new n.Subject}return e.prototype.notifications=function(e,r){return this.formNotifications.pipe(o.filter((function(o){return(!e||o.form===e)&&(o.type===t.FormNotificationType.CLEAN||o instanceof ft&&o.field===r)})))},e.prototype.notify=function(t){this.formNotifications.next(t)},e}();dt.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new dt},token:dt,providedIn:"root"}),dt.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}];var ht=function(){function t(t){this.formNotificationService=t}return t.prototype.shouldHandle=function(t){return t instanceof e.HttpErrorResponse&&"application/problem+json"===t.headers.get("Content-Type")&&t.error&&(t.error.violations||t.error.fieldErrors)},t.prototype.handle=function(t){t.error.violations&&this.violation(t.url,t.error.violations),t.error.fieldErrors&&this.violation(t.url,t.error.fieldErrors)},t.prototype.violation=function(t,e){var r=this;e.forEach((function(e){return r.formNotificationService.notify(new ft(t,e.field,e.message))}))},t}();ht.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new ht(r.ɵɵinject(dt))},token:ht,providedIn:"root"}),ht.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],ht.ctorParameters=function(){return[{type:dt}]};var vt=function(e){function r(r){return e.call(this,r,t.FormNotificationType.CLEAN)||this}return C(r,e),r}(lt),yt=function(){function t(t){this.formNotificationService=t}return t.prototype.intercept=function(t,e){return this.formNotificationService.notify(new vt(t.url)),e.handle(t)},t}();yt.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new yt(r.ɵɵinject(dt))},token:yt,providedIn:"root"}),yt.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],yt.ctorParameters=function(){return[{type:dt}]};var gt=function(){function t(t){this.formNotificationService=t}return t.prototype.ngOnInit=function(){var t=this;this.subscription=this.formNotificationService.notifications(this.form,this.name).subscribe((function(e){t.message=e instanceof ft?e.message:null}))},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t}();gt.decorators=[{type:r.Directive,args:[{selector:"form-notification-component-superclass"}]}],gt.ctorParameters=function(){return[{type:dt}]},gt.propDecorators={name:[{type:r.Input}],form:[{type:r.Input}]};var mt=function(){};mt.decorators=[{type:r.NgModule,args:[{imports:[i.CommonModule],declarations:[gt],exports:[gt],providers:[dt,{provide:R,useClass:ht,multi:!0},{provide:e.HTTP_INTERCEPTORS,useClass:yt,multi:!0}]}]}];var bt=function(t){function e(e,r,o,n,i,s,c,a){var u=t.call(this,e,r,o,n,i,s,c)||this;return u.violations=a,u}return C(e,t),e}(V),It=function(){function t(){this.subscriptions=new n.Subscription,this.destructionSubject=new n.Subject,this.destruction$=this.destructionSubject.asObservable()}return t.prototype.subscribeTo=function(t,e,r,o){this.subscriptions.add(t.subscribe(this.bind(e),this.bind(r),this.bind(o)))},t.prototype.unsubscribe=function(){this.subscriptions.unsubscribe(),this.subscriptions=new n.Subscription},t.prototype.bind=function(t){return null==t?void 0:t.bind(this)},t.prototype.ngOnDestroy=function(){this.unsubscribe(),this.destructionSubject.next(),this.destructionSubject.complete()},t}();It.decorators=[{type:r.Injectable}],It.ctorParameters=function(){return[]};var St=function(t){function e(e){var o=t.call(this)||this;return o.inputChanges$=new n.Subject,o.changeDetectorRef=e.get(r.ChangeDetectorRef),o}return C(e,t),e.prototype.ngOnChanges=function(t){this.inputChanges$.next(new Set(Object.getOwnPropertyNames(t)))},e.prototype.getInput$=function(t){var e=this;return this.inputChanges$.pipe(o.filter((function(e){return e.has(t)})),o.startWith(void 0),o.map((function(){return e[t]})))},e.prototype.bindToInstance=function(t,e){var r=this;this.subscribeTo(e,(function(e){r[t]=e,r.changeDetectorRef.markForCheck()}))},e}(It);function Ct(){}St.decorators=[{type:r.Directive}],St.ctorParameters=function(){return[{type:r.Injector}]};var Et=function(t){function e(){var e=t.apply(this,j(arguments))||this;return e.emitOutgoingValue=Ct,e.onTouched=Ct,e.isDisabled=!1,e}return C(e,t),e.prototype.writeValue=function(t){this.handleIncomingValue(t),this.changeDetectorRef.markForCheck()},e.prototype.registerOnChange=function(t){this.emitOutgoingValue=t},e.prototype.registerOnTouched=function(t){this.onTouched=t},e.prototype.setDisabledState=function(t){this.isDisabled=t,this.changeDetectorRef.markForCheck()},e}(St);Et.decorators=[{type:r.Directive}];var jt=function(t){function e(e){var r=t.call(this,e)||this;return r.formControl=new c.FormControl,r.subscribeTo(r.formControl.valueChanges,(function(t){r.emitOutgoingValue(r.innerToOuter(t))})),r.formControl.markAsTouched=function(){r.onTouched()},r}return C(e,t),e.prototype.handleIncomingValue=function(t){this.formControl.setValue(this.outerToInner(t),{emitEvent:!1})},e.prototype.setDisabledState=function(e){e?this.formControl.disable({emitEvent:!1}):this.formControl.enable({emitEvent:!1}),t.prototype.setDisabledState.call(this,this.isDisabled)},e.prototype.outerToInner=function(t){return t},e.prototype.innerToOuter=function(t){return t},e}(Et);jt.decorators=[{type:r.Directive}],jt.ctorParameters=function(){return[{type:r.Injector}]},t.AUTH_CONFIG=I,t.AccessbilityModule=F,t.AccessbilityService=M,t.ApplicationProblemType=V,t.AuthGuard=H,t.Authentication=d,t.AuthenticationService=T,t.Authorization=g,t.AuthorizationService=w,t.BlockUiInterceptor=u,t.BlockUiService=a,t.CepPipe=X,t.CleanFormNotification=vt,t.ClipboardDirective=nt,t.ClipboardModule=it,t.ClipboardService=ot,t.CnpjPipe=Q,t.CommonMaskModule=U,t.CommonMaskService=L,t.CpfPipe=Y,t.DirectivesModule=pt,t.ErrorModule=B,t.ErrorProvider=R,t.ErrorService=_,t.ErrorStackProviderService=W,t.ErrorStackService=K,t.FieldFormNotification=ft,t.FormControlSuperclass=Et,t.FormNotification=lt,t.FormNotificationBaseModule=mt,t.FormNotificationComponentSuperclass=gt,t.FormNotificationErrorProvider=ht,t.FormNotificationProvider=bt,t.FormNotificationService=dt,t.GENERIC_ERRORS=$,t.HasRoleDirective=m,t.HideWhileLoginComponent=b,t.HttpApplicationProblemErrorService=z,t.HttpGenericErrorService=Z,t.HttpGenericErrorType=G,t.JWTAuthInterceptor=D,t.JWTTokenService=O,t.LimitPipe=et,t.LoginSuccessComponent=y,t.LogoutDirective=h,t.NotAuthenticatedErrorProvider=P,t.NotificationProvider=q,t.NotificationService=J,t.OnlyNumbersDirective=ct,t.PipeModule=rt,t.RegexPipe=tt,t.SecurityModule=x,t.Token=A,t.UnmaskDirective=st,t.UserDirective=v,t.VersionTagComponent=l,t.VersionTagModule=f,t.WrappedFormControlSuperclass=jt,t.bootstrapSecurity=function(t,e,r,o){void 0===r&&(r=k),void 0===o&&(o=N),window.location.href.includes(t.loginSuccessRoute)||r(t)?e():o(t)},t.isAuthenticated=k,t.noop=Ct,t.provideValueAccessor=function(t){return{provide:c.NG_VALUE_ACCESSOR,useExisting:t,multi:!0}},t.redirect=N,t.ɵb=p,t.ɵc=yt,t.ɵd=St,t.ɵe=It,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=nuvem-angular-base.umd.min.js.map