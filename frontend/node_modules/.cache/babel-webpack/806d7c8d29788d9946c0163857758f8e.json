{"ast":null,"code":"import _classCallCheck from \"/home/basis/template/p-lc-aprd_codigo_fonte/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/basis/template/p-lc-aprd_codigo_fonte/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { forwardRef, EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, ElementRef, Renderer2, ChangeDetectorRef, Input, Output, ViewChild, NgModule } from '@angular/core';\nimport { trigger, transition, style, animate } from '@angular/animations';\nimport { CommonModule } from '@angular/common';\nimport { DomHandler, ConnectedOverlayScrollHandler } from 'primeng/dom';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nvar _c0 = [\"colorSelector\"];\nvar _c1 = [\"colorHandle\"];\nvar _c2 = [\"hue\"];\nvar _c3 = [\"hueHandle\"];\nvar _c4 = [\"container\"];\nvar _c5 = [\"input\"];\n\nvar _c6 = function _c6(a0) {\n  return {\n    \"p-disabled\": a0\n  };\n};\n\nfunction ColorPicker_input_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r5 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"input\", 4, 5);\n    ɵngcc0.ɵɵlistener(\"focus\", function ColorPicker_input_2_Template_input_focus_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r5);\n      var ctx_r4 = ɵngcc0.ɵɵnextContext();\n      return ctx_r4.onInputFocus();\n    })(\"click\", function ColorPicker_input_2_Template_input_click_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r5);\n      var ctx_r6 = ɵngcc0.ɵɵnextContext();\n      return ctx_r6.onInputClick();\n    })(\"keydown\", function ColorPicker_input_2_Template_input_keydown_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r5);\n      var ctx_r7 = ɵngcc0.ɵɵnextContext();\n      return ctx_r7.onInputKeydown($event);\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"background-color\", ctx_r1.inputBgColor);\n    ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction1(6, _c6, ctx_r1.disabled))(\"disabled\", ctx_r1.disabled);\n    ɵngcc0.ɵɵattribute(\"id\", ctx_r1.inputId)(\"tabindex\", ctx_r1.tabindex);\n  }\n}\n\nvar _c7 = function _c7(a1, a2) {\n  return {\n    \"p-colorpicker-panel\": true,\n    \"p-colorpicker-overlay-panel\": a1,\n    \"p-disabled\": a2\n  };\n};\n\nvar _c8 = function _c8(a0, a1) {\n  return {\n    showTransitionParams: a0,\n    hideTransitionParams: a1\n  };\n};\n\nvar _c9 = function _c9(a1) {\n  return {\n    value: \"visible\",\n    params: a1\n  };\n};\n\nfunction ColorPicker_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r13 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"div\", 6);\n    ɵngcc0.ɵɵlistener(\"click\", function ColorPicker_div_3_Template_div_click_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r12 = ɵngcc0.ɵɵnextContext();\n      return ctx_r12.onPanelClick();\n    })(\"@overlayAnimation.start\", function ColorPicker_div_3_Template_div_animation_overlayAnimation_start_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r14 = ɵngcc0.ɵɵnextContext();\n      return ctx_r14.onOverlayAnimationStart($event);\n    })(\"@overlayAnimation.done\", function ColorPicker_div_3_Template_div_animation_overlayAnimation_done_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r15 = ɵngcc0.ɵɵnextContext();\n      return ctx_r15.onOverlayAnimationEnd($event);\n    });\n    ɵngcc0.ɵɵelementStart(1, \"div\", 7);\n    ɵngcc0.ɵɵelementStart(2, \"div\", 8, 9);\n    ɵngcc0.ɵɵlistener(\"touchstart\", function ColorPicker_div_3_Template_div_touchstart_2_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r16 = ɵngcc0.ɵɵnextContext();\n      return ctx_r16.onColorTouchStart($event);\n    })(\"touchmove\", function ColorPicker_div_3_Template_div_touchmove_2_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r17 = ɵngcc0.ɵɵnextContext();\n      return ctx_r17.onMove($event);\n    })(\"touchend\", function ColorPicker_div_3_Template_div_touchend_2_listener() {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r18 = ɵngcc0.ɵɵnextContext();\n      return ctx_r18.onDragEnd();\n    })(\"mousedown\", function ColorPicker_div_3_Template_div_mousedown_2_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r19 = ɵngcc0.ɵɵnextContext();\n      return ctx_r19.onColorMousedown($event);\n    });\n    ɵngcc0.ɵɵelementStart(4, \"div\", 10);\n    ɵngcc0.ɵɵelement(5, \"div\", 11, 12);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(7, \"div\", 13, 14);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ColorPicker_div_3_Template_div_mousedown_7_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r20 = ɵngcc0.ɵɵnextContext();\n      return ctx_r20.onHueMousedown($event);\n    })(\"touchstart\", function ColorPicker_div_3_Template_div_touchstart_7_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r21 = ɵngcc0.ɵɵnextContext();\n      return ctx_r21.onHueTouchStart($event);\n    })(\"touchmove\", function ColorPicker_div_3_Template_div_touchmove_7_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r22 = ɵngcc0.ɵɵnextContext();\n      return ctx_r22.onMove($event);\n    })(\"touchend\", function ColorPicker_div_3_Template_div_touchend_7_listener() {\n      ɵngcc0.ɵɵrestoreView(_r13);\n      var ctx_r23 = ɵngcc0.ɵɵnextContext();\n      return ctx_r23.onDragEnd();\n    });\n    ɵngcc0.ɵɵelement(9, \"div\", 15, 16);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction2(3, _c7, !ctx_r2.inline, ctx_r2.disabled))(\"@overlayAnimation\", ɵngcc0.ɵɵpureFunction1(9, _c9, ɵngcc0.ɵɵpureFunction2(6, _c8, ctx_r2.showTransitionOptions, ctx_r2.hideTransitionOptions)))(\"@.disabled\", ctx_r2.inline === true);\n  }\n}\n\nvar _c10 = function _c10(a1, a2) {\n  return {\n    \"p-colorpicker p-component\": true,\n    \"p-colorpicker-overlay\": a1,\n    \"p-colorpicker-dragging\": a2\n  };\n};\n\nvar COLORPICKER_VALUE_ACCESSOR = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(function () {\n    return ColorPicker;\n  }),\n  multi: true\n};\n\nvar ColorPicker = /*#__PURE__*/function () {\n  function ColorPicker(el, renderer, cd) {\n    _classCallCheck(this, ColorPicker);\n\n    this.el = el;\n    this.renderer = renderer;\n    this.cd = cd;\n    this.format = 'hex';\n    this.autoZIndex = true;\n    this.baseZIndex = 0;\n    this.showTransitionOptions = '.12s cubic-bezier(0, 0, 0.2, 1)';\n    this.hideTransitionOptions = '.1s linear';\n    this.onChange = new EventEmitter();\n    this.onShow = new EventEmitter();\n    this.onHide = new EventEmitter();\n    this.value = {\n      h: 0,\n      s: 100,\n      b: 100\n    };\n    this.defaultColor = 'ff0000';\n\n    this.onModelChange = function () {};\n\n    this.onModelTouched = function () {};\n  }\n\n  _createClass(ColorPicker, [{\n    key: \"colorSelector\",\n    set: function set(element) {\n      this.colorSelectorViewChild = element;\n    }\n  }, {\n    key: \"colorHandle\",\n    set: function set(element) {\n      this.colorHandleViewChild = element;\n    }\n  }, {\n    key: \"hue\",\n    set: function set(element) {\n      this.hueViewChild = element;\n    }\n  }, {\n    key: \"hueHandle\",\n    set: function set(element) {\n      this.hueHandleViewChild = element;\n    }\n  }, {\n    key: \"onHueMousedown\",\n    value: function onHueMousedown(event) {\n      if (this.disabled) {\n        return;\n      }\n\n      this.bindDocumentMousemoveListener();\n      this.bindDocumentMouseupListener();\n      this.hueDragging = true;\n      this.pickHue(event);\n    }\n  }, {\n    key: \"onHueTouchStart\",\n    value: function onHueTouchStart(event) {\n      if (this.disabled) {\n        return;\n      }\n\n      this.hueDragging = true;\n      this.pickHue(event);\n    }\n  }, {\n    key: \"onColorTouchStart\",\n    value: function onColorTouchStart(event) {\n      if (this.disabled) {\n        return;\n      }\n\n      this.colorDragging = true;\n      this.pickColor(event);\n    }\n  }, {\n    key: \"pickHue\",\n    value: function pickHue(event) {\n      var top = this.hueViewChild.nativeElement.getBoundingClientRect().top + (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0);\n      this.value = this.validateHSB({\n        h: Math.floor(360 * (150 - Math.max(0, Math.min(150, (event.pageY || event.changedTouches[0].pageY) - top))) / 150),\n        s: this.value.s,\n        b: this.value.b\n      });\n      this.updateColorSelector();\n      this.updateUI();\n      this.updateModel();\n      this.onChange.emit({\n        originalEvent: event,\n        value: this.getValueToUpdate()\n      });\n    }\n  }, {\n    key: \"onColorMousedown\",\n    value: function onColorMousedown(event) {\n      if (this.disabled) {\n        return;\n      }\n\n      this.bindDocumentMousemoveListener();\n      this.bindDocumentMouseupListener();\n      this.colorDragging = true;\n      this.pickColor(event);\n    }\n  }, {\n    key: \"onMove\",\n    value: function onMove(event) {\n      if (this.colorDragging) {\n        this.pickColor(event);\n        event.preventDefault();\n      }\n\n      if (this.hueDragging) {\n        this.pickHue(event);\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"onDragEnd\",\n    value: function onDragEnd() {\n      this.colorDragging = false;\n      this.hueDragging = false;\n      this.unbindDocumentMousemoveListener();\n      this.unbindDocumentMouseupListener();\n    }\n  }, {\n    key: \"pickColor\",\n    value: function pickColor(event) {\n      var rect = this.colorSelectorViewChild.nativeElement.getBoundingClientRect();\n      var top = rect.top + (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0);\n      var left = rect.left + document.body.scrollLeft;\n      var saturation = Math.floor(100 * Math.max(0, Math.min(150, (event.pageX || event.changedTouches[0].pageX) - left)) / 150);\n      var brightness = Math.floor(100 * (150 - Math.max(0, Math.min(150, (event.pageY || event.changedTouches[0].pageY) - top))) / 150);\n      this.value = this.validateHSB({\n        h: this.value.h,\n        s: saturation,\n        b: brightness\n      });\n      this.updateUI();\n      this.updateModel();\n      this.onChange.emit({\n        originalEvent: event,\n        value: this.getValueToUpdate()\n      });\n    }\n  }, {\n    key: \"getValueToUpdate\",\n    value: function getValueToUpdate() {\n      var val;\n\n      switch (this.format) {\n        case 'hex':\n          val = '#' + this.HSBtoHEX(this.value);\n          break;\n\n        case 'rgb':\n          val = this.HSBtoRGB(this.value);\n          break;\n\n        case 'hsb':\n          val = this.value;\n          break;\n      }\n\n      return val;\n    }\n  }, {\n    key: \"updateModel\",\n    value: function updateModel() {\n      this.onModelChange(this.getValueToUpdate());\n    }\n  }, {\n    key: \"writeValue\",\n    value: function writeValue(value) {\n      if (value) {\n        switch (this.format) {\n          case 'hex':\n            this.value = this.HEXtoHSB(value);\n            break;\n\n          case 'rgb':\n            this.value = this.RGBtoHSB(value);\n            break;\n\n          case 'hsb':\n            this.value = value;\n            break;\n        }\n      } else {\n        this.value = this.HEXtoHSB(this.defaultColor);\n      }\n\n      this.updateColorSelector();\n      this.updateUI();\n      this.cd.markForCheck();\n    }\n  }, {\n    key: \"updateColorSelector\",\n    value: function updateColorSelector() {\n      if (this.colorSelectorViewChild) {\n        var hsb = {};\n        hsb.s = 100;\n        hsb.b = 100;\n        hsb.h = this.value.h;\n        this.colorSelectorViewChild.nativeElement.style.backgroundColor = '#' + this.HSBtoHEX(hsb);\n      }\n    }\n  }, {\n    key: \"updateUI\",\n    value: function updateUI() {\n      if (this.colorHandleViewChild && this.hueHandleViewChild.nativeElement) {\n        this.colorHandleViewChild.nativeElement.style.left = Math.floor(150 * this.value.s / 100) + 'px';\n        this.colorHandleViewChild.nativeElement.style.top = Math.floor(150 * (100 - this.value.b) / 100) + 'px';\n        this.hueHandleViewChild.nativeElement.style.top = Math.floor(150 - 150 * this.value.h / 360) + 'px';\n      }\n\n      this.inputBgColor = '#' + this.HSBtoHEX(this.value);\n    }\n  }, {\n    key: \"onInputFocus\",\n    value: function onInputFocus() {\n      this.onModelTouched();\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.overlayVisible = true;\n    }\n  }, {\n    key: \"onOverlayAnimationStart\",\n    value: function onOverlayAnimationStart(event) {\n      switch (event.toState) {\n        case 'visible':\n          if (!this.inline) {\n            this.overlay = event.element;\n            this.appendOverlay();\n\n            if (this.autoZIndex) {\n              this.overlay.style.zIndex = String(this.baseZIndex + ++DomHandler.zindex);\n            }\n\n            this.alignOverlay();\n            this.bindDocumentClickListener();\n            this.bindDocumentResizeListener();\n            this.bindScrollListener();\n            this.updateColorSelector();\n            this.updateUI();\n          }\n\n          break;\n\n        case 'void':\n          this.onOverlayHide();\n          break;\n      }\n    }\n  }, {\n    key: \"onOverlayAnimationEnd\",\n    value: function onOverlayAnimationEnd(event) {\n      switch (event.toState) {\n        case 'visible':\n          if (!this.inline) {\n            this.onShow.emit({});\n          }\n\n          break;\n\n        case 'void':\n          this.onHide.emit({});\n          break;\n      }\n    }\n  }, {\n    key: \"appendOverlay\",\n    value: function appendOverlay() {\n      if (this.appendTo) {\n        if (this.appendTo === 'body') document.body.appendChild(this.overlay);else DomHandler.appendChild(this.overlay, this.appendTo);\n      }\n    }\n  }, {\n    key: \"restoreOverlayAppend\",\n    value: function restoreOverlayAppend() {\n      if (this.overlay && this.appendTo) {\n        this.el.nativeElement.appendChild(this.overlay);\n      }\n    }\n  }, {\n    key: \"alignOverlay\",\n    value: function alignOverlay() {\n      if (this.appendTo) DomHandler.absolutePosition(this.overlay, this.inputViewChild.nativeElement);else DomHandler.relativePosition(this.overlay, this.inputViewChild.nativeElement);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.overlayVisible = false;\n      this.cd.markForCheck();\n    }\n  }, {\n    key: \"onInputClick\",\n    value: function onInputClick() {\n      this.selfClick = true;\n      this.togglePanel();\n    }\n  }, {\n    key: \"togglePanel\",\n    value: function togglePanel() {\n      if (!this.overlayVisible) this.show();else this.hide();\n    }\n  }, {\n    key: \"onInputKeydown\",\n    value: function onInputKeydown(event) {\n      switch (event.which) {\n        //space\n        case 32:\n          this.togglePanel();\n          event.preventDefault();\n          break;\n        //escape and tab\n\n        case 27:\n        case 9:\n          this.hide();\n          break;\n      }\n    }\n  }, {\n    key: \"onPanelClick\",\n    value: function onPanelClick() {\n      this.selfClick = true;\n    }\n  }, {\n    key: \"registerOnChange\",\n    value: function registerOnChange(fn) {\n      this.onModelChange = fn;\n    }\n  }, {\n    key: \"registerOnTouched\",\n    value: function registerOnTouched(fn) {\n      this.onModelTouched = fn;\n    }\n  }, {\n    key: \"setDisabledState\",\n    value: function setDisabledState(val) {\n      this.disabled = val;\n      this.cd.markForCheck();\n    }\n  }, {\n    key: \"bindDocumentClickListener\",\n    value: function bindDocumentClickListener() {\n      var _this = this;\n\n      if (!this.documentClickListener) {\n        var documentTarget = this.el ? this.el.nativeElement.ownerDocument : 'document';\n        this.documentClickListener = this.renderer.listen(documentTarget, 'click', function () {\n          if (!_this.selfClick) {\n            _this.overlayVisible = false;\n\n            _this.unbindDocumentClickListener();\n          }\n\n          _this.selfClick = false;\n\n          _this.cd.markForCheck();\n        });\n      }\n    }\n  }, {\n    key: \"unbindDocumentClickListener\",\n    value: function unbindDocumentClickListener() {\n      if (this.documentClickListener) {\n        this.documentClickListener();\n        this.documentClickListener = null;\n      }\n    }\n  }, {\n    key: \"bindDocumentMousemoveListener\",\n    value: function bindDocumentMousemoveListener() {\n      var _this2 = this;\n\n      if (!this.documentMousemoveListener) {\n        var documentTarget = this.el ? this.el.nativeElement.ownerDocument : 'document';\n        this.documentMousemoveListener = this.renderer.listen(documentTarget, 'mousemove', function (event) {\n          if (_this2.colorDragging) {\n            _this2.pickColor(event);\n          }\n\n          if (_this2.hueDragging) {\n            _this2.pickHue(event);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"unbindDocumentMousemoveListener\",\n    value: function unbindDocumentMousemoveListener() {\n      if (this.documentMousemoveListener) {\n        this.documentMousemoveListener();\n        this.documentMousemoveListener = null;\n      }\n    }\n  }, {\n    key: \"bindDocumentMouseupListener\",\n    value: function bindDocumentMouseupListener() {\n      var _this3 = this;\n\n      if (!this.documentMouseupListener) {\n        var documentTarget = this.el ? this.el.nativeElement.ownerDocument : 'document';\n        this.documentMouseupListener = this.renderer.listen(documentTarget, 'mouseup', function () {\n          _this3.colorDragging = false;\n          _this3.hueDragging = false;\n\n          _this3.unbindDocumentMousemoveListener();\n\n          _this3.unbindDocumentMouseupListener();\n        });\n      }\n    }\n  }, {\n    key: \"unbindDocumentMouseupListener\",\n    value: function unbindDocumentMouseupListener() {\n      if (this.documentMouseupListener) {\n        this.documentMouseupListener();\n        this.documentMouseupListener = null;\n      }\n    }\n  }, {\n    key: \"bindDocumentResizeListener\",\n    value: function bindDocumentResizeListener() {\n      this.documentResizeListener = this.onWindowResize.bind(this);\n      window.addEventListener('resize', this.documentResizeListener);\n    }\n  }, {\n    key: \"unbindDocumentResizeListener\",\n    value: function unbindDocumentResizeListener() {\n      if (this.documentResizeListener) {\n        window.removeEventListener('resize', this.documentResizeListener);\n        this.documentResizeListener = null;\n      }\n    }\n  }, {\n    key: \"onWindowResize\",\n    value: function onWindowResize() {\n      this.hide();\n    }\n  }, {\n    key: \"bindScrollListener\",\n    value: function bindScrollListener() {\n      var _this4 = this;\n\n      if (!this.scrollHandler) {\n        this.scrollHandler = new ConnectedOverlayScrollHandler(this.containerViewChild.nativeElement, function () {\n          if (_this4.overlayVisible) {\n            _this4.hide();\n          }\n        });\n      }\n\n      this.scrollHandler.bindScrollListener();\n    }\n  }, {\n    key: \"unbindScrollListener\",\n    value: function unbindScrollListener() {\n      if (this.scrollHandler) {\n        this.scrollHandler.unbindScrollListener();\n      }\n    }\n  }, {\n    key: \"validateHSB\",\n    value: function validateHSB(hsb) {\n      return {\n        h: Math.min(360, Math.max(0, hsb.h)),\n        s: Math.min(100, Math.max(0, hsb.s)),\n        b: Math.min(100, Math.max(0, hsb.b))\n      };\n    }\n  }, {\n    key: \"validateRGB\",\n    value: function validateRGB(rgb) {\n      return {\n        r: Math.min(255, Math.max(0, rgb.r)),\n        g: Math.min(255, Math.max(0, rgb.g)),\n        b: Math.min(255, Math.max(0, rgb.b))\n      };\n    }\n  }, {\n    key: \"validateHEX\",\n    value: function validateHEX(hex) {\n      var len = 6 - hex.length;\n\n      if (len > 0) {\n        var o = [];\n\n        for (var i = 0; i < len; i++) {\n          o.push('0');\n        }\n\n        o.push(hex);\n        hex = o.join('');\n      }\n\n      return hex;\n    }\n  }, {\n    key: \"HEXtoRGB\",\n    value: function HEXtoRGB(hex) {\n      var hexValue = parseInt(hex.indexOf('#') > -1 ? hex.substring(1) : hex, 16);\n      return {\n        r: hexValue >> 16,\n        g: (hexValue & 0x00FF00) >> 8,\n        b: hexValue & 0x0000FF\n      };\n    }\n  }, {\n    key: \"HEXtoHSB\",\n    value: function HEXtoHSB(hex) {\n      return this.RGBtoHSB(this.HEXtoRGB(hex));\n    }\n  }, {\n    key: \"RGBtoHSB\",\n    value: function RGBtoHSB(rgb) {\n      var hsb = {\n        h: 0,\n        s: 0,\n        b: 0\n      };\n      var min = Math.min(rgb.r, rgb.g, rgb.b);\n      var max = Math.max(rgb.r, rgb.g, rgb.b);\n      var delta = max - min;\n      hsb.b = max;\n      hsb.s = max != 0 ? 255 * delta / max : 0;\n\n      if (hsb.s != 0) {\n        if (rgb.r == max) {\n          hsb.h = (rgb.g - rgb.b) / delta;\n        } else if (rgb.g == max) {\n          hsb.h = 2 + (rgb.b - rgb.r) / delta;\n        } else {\n          hsb.h = 4 + (rgb.r - rgb.g) / delta;\n        }\n      } else {\n        hsb.h = -1;\n      }\n\n      hsb.h *= 60;\n\n      if (hsb.h < 0) {\n        hsb.h += 360;\n      }\n\n      hsb.s *= 100 / 255;\n      hsb.b *= 100 / 255;\n      return hsb;\n    }\n  }, {\n    key: \"HSBtoRGB\",\n    value: function HSBtoRGB(hsb) {\n      var rgb = {\n        r: null,\n        g: null,\n        b: null\n      };\n      var h = hsb.h;\n      var s = hsb.s * 255 / 100;\n      var v = hsb.b * 255 / 100;\n\n      if (s == 0) {\n        rgb = {\n          r: v,\n          g: v,\n          b: v\n        };\n      } else {\n        var t1 = v;\n        var t2 = (255 - s) * v / 255;\n        var t3 = (t1 - t2) * (h % 60) / 60;\n        if (h == 360) h = 0;\n\n        if (h < 60) {\n          rgb.r = t1;\n          rgb.b = t2;\n          rgb.g = t2 + t3;\n        } else if (h < 120) {\n          rgb.g = t1;\n          rgb.b = t2;\n          rgb.r = t1 - t3;\n        } else if (h < 180) {\n          rgb.g = t1;\n          rgb.r = t2;\n          rgb.b = t2 + t3;\n        } else if (h < 240) {\n          rgb.b = t1;\n          rgb.r = t2;\n          rgb.g = t1 - t3;\n        } else if (h < 300) {\n          rgb.b = t1;\n          rgb.g = t2;\n          rgb.r = t2 + t3;\n        } else if (h < 360) {\n          rgb.r = t1;\n          rgb.g = t2;\n          rgb.b = t1 - t3;\n        } else {\n          rgb.r = 0;\n          rgb.g = 0;\n          rgb.b = 0;\n        }\n      }\n\n      return {\n        r: Math.round(rgb.r),\n        g: Math.round(rgb.g),\n        b: Math.round(rgb.b)\n      };\n    }\n  }, {\n    key: \"RGBtoHEX\",\n    value: function RGBtoHEX(rgb) {\n      var hex = [rgb.r.toString(16), rgb.g.toString(16), rgb.b.toString(16)];\n\n      for (var key in hex) {\n        if (hex[key].length == 1) {\n          hex[key] = '0' + hex[key];\n        }\n      }\n\n      return hex.join('');\n    }\n  }, {\n    key: \"HSBtoHEX\",\n    value: function HSBtoHEX(hsb) {\n      return this.RGBtoHEX(this.HSBtoRGB(hsb));\n    }\n  }, {\n    key: \"onOverlayHide\",\n    value: function onOverlayHide() {\n      this.unbindScrollListener();\n      this.unbindDocumentResizeListener();\n      this.unbindDocumentClickListener();\n      this.overlay = null;\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      if (this.scrollHandler) {\n        this.scrollHandler.destroy();\n        this.scrollHandler = null;\n      }\n\n      this.restoreOverlayAppend();\n      this.onOverlayHide();\n    }\n  }]);\n\n  return ColorPicker;\n}();\n\nColorPicker.ɵfac = function ColorPicker_Factory(t) {\n  return new (t || ColorPicker)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef));\n};\n\nColorPicker.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: ColorPicker,\n  selectors: [[\"p-colorPicker\"]],\n  viewQuery: function ColorPicker_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(_c0, 1);\n      ɵngcc0.ɵɵviewQuery(_c1, 1);\n      ɵngcc0.ɵɵviewQuery(_c2, 1);\n      ɵngcc0.ɵɵviewQuery(_c3, 1);\n      ɵngcc0.ɵɵviewQuery(_c4, 1);\n      ɵngcc0.ɵɵviewQuery(_c5, 1);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.colorSelector = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.colorHandle = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.hue = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.hueHandle = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.containerViewChild = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.inputViewChild = _t.first);\n    }\n  },\n  inputs: {\n    format: \"format\",\n    autoZIndex: \"autoZIndex\",\n    baseZIndex: \"baseZIndex\",\n    showTransitionOptions: \"showTransitionOptions\",\n    hideTransitionOptions: \"hideTransitionOptions\",\n    disabled: \"disabled\",\n    style: \"style\",\n    styleClass: \"styleClass\",\n    inline: \"inline\",\n    appendTo: \"appendTo\",\n    tabindex: \"tabindex\",\n    inputId: \"inputId\"\n  },\n  outputs: {\n    onChange: \"onChange\",\n    onShow: \"onShow\",\n    onHide: \"onHide\"\n  },\n  features: [ɵngcc0.ɵɵProvidersFeature([COLORPICKER_VALUE_ACCESSOR])],\n  decls: 4,\n  vars: 9,\n  consts: [[3, \"ngStyle\", \"ngClass\"], [\"container\", \"\"], [\"type\", \"text\", \"class\", \"p-colorpicker-preview p-inputtext\", \"readonly\", \"readonly\", 3, \"ngClass\", \"disabled\", \"backgroundColor\", \"focus\", \"click\", \"keydown\", 4, \"ngIf\"], [3, \"ngClass\", \"click\", 4, \"ngIf\"], [\"type\", \"text\", \"readonly\", \"readonly\", 1, \"p-colorpicker-preview\", \"p-inputtext\", 3, \"ngClass\", \"disabled\", \"focus\", \"click\", \"keydown\"], [\"input\", \"\"], [3, \"ngClass\", \"click\"], [1, \"p-colorpicker-content\"], [1, \"p-colorpicker-color-selector\", 3, \"touchstart\", \"touchmove\", \"touchend\", \"mousedown\"], [\"colorSelector\", \"\"], [1, \"p-colorpicker-color\"], [1, \"p-colorpicker-color-handle\"], [\"colorHandle\", \"\"], [1, \"p-colorpicker-hue\", 3, \"mousedown\", \"touchstart\", \"touchmove\", \"touchend\"], [\"hue\", \"\"], [1, \"p-colorpicker-hue-handle\"], [\"hueHandle\", \"\"]],\n  template: function ColorPicker_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵelementStart(0, \"div\", 0, 1);\n      ɵngcc0.ɵɵtemplate(2, ColorPicker_input_2_Template, 2, 8, \"input\", 2);\n      ɵngcc0.ɵɵtemplate(3, ColorPicker_div_3_Template, 11, 11, \"div\", 3);\n      ɵngcc0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵclassMap(ctx.styleClass);\n      ɵngcc0.ɵɵproperty(\"ngStyle\", ctx.style)(\"ngClass\", ɵngcc0.ɵɵpureFunction2(6, _c10, !ctx.inline, ctx.colorDragging || ctx.hueDragging));\n      ɵngcc0.ɵɵadvance(2);\n      ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.inline);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.inline || ctx.overlayVisible);\n    }\n  },\n  directives: [ɵngcc1.NgStyle, ɵngcc1.NgClass, ɵngcc1.NgIf],\n  styles: [\".p-colorpicker{display:inline-block}.p-colorpicker-dragging{cursor:pointer}.p-colorpicker-overlay{position:relative}.p-colorpicker-panel{height:166px;position:relative;width:193px}.p-colorpicker-overlay-panel{position:absolute}.p-colorpicker-preview{cursor:pointer}.p-colorpicker-panel .p-colorpicker-content{position:relative}.p-colorpicker-panel .p-colorpicker-color-selector{height:150px;left:8px;position:absolute;top:8px;width:150px}.p-colorpicker-panel .p-colorpicker-color{height:150px;width:150px}.p-colorpicker-panel .p-colorpicker-color-handle{border-radius:100%;border-style:solid;border-width:1px;cursor:pointer;height:10px;left:150px;margin:-5px 0 0 -5px;opacity:.85;position:absolute;top:0;width:10px}.p-colorpicker-panel .p-colorpicker-hue{height:150px;left:167px;opacity:.85;position:absolute;top:8px;width:17px}.p-colorpicker-panel .p-colorpicker-hue-handle{border-style:solid;border-width:2px;cursor:pointer;height:10px;left:0;margin-left:-2px;margin-top:-5px;opacity:.85;position:absolute;top:150px;width:21px}\"],\n  encapsulation: 2,\n  data: {\n    animation: [trigger('overlayAnimation', [transition(':enter', [style({\n      opacity: 0,\n      transform: 'scaleY(0.8)'\n    }), animate('{{showTransitionParams}}')]), transition(':leave', [animate('{{hideTransitionParams}}', style({\n      opacity: 0\n    }))])])]\n  },\n  changeDetection: 0\n});\n\nColorPicker.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }, {\n    type: Renderer2\n  }, {\n    type: ChangeDetectorRef\n  }];\n};\n\nColorPicker.propDecorators = {\n  style: [{\n    type: Input\n  }],\n  styleClass: [{\n    type: Input\n  }],\n  inline: [{\n    type: Input\n  }],\n  format: [{\n    type: Input\n  }],\n  appendTo: [{\n    type: Input\n  }],\n  disabled: [{\n    type: Input\n  }],\n  tabindex: [{\n    type: Input\n  }],\n  inputId: [{\n    type: Input\n  }],\n  autoZIndex: [{\n    type: Input\n  }],\n  baseZIndex: [{\n    type: Input\n  }],\n  showTransitionOptions: [{\n    type: Input\n  }],\n  hideTransitionOptions: [{\n    type: Input\n  }],\n  onChange: [{\n    type: Output\n  }],\n  onShow: [{\n    type: Output\n  }],\n  onHide: [{\n    type: Output\n  }],\n  containerViewChild: [{\n    type: ViewChild,\n    args: ['container']\n  }],\n  inputViewChild: [{\n    type: ViewChild,\n    args: ['input']\n  }],\n  colorSelector: [{\n    type: ViewChild,\n    args: ['colorSelector']\n  }],\n  colorHandle: [{\n    type: ViewChild,\n    args: ['colorHandle']\n  }],\n  hue: [{\n    type: ViewChild,\n    args: ['hue']\n  }],\n  hueHandle: [{\n    type: ViewChild,\n    args: ['hueHandle']\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ColorPicker, [{\n    type: Component,\n    args: [{\n      selector: 'p-colorPicker',\n      template: \"\\n        <div #container [ngStyle]=\\\"style\\\" [class]=\\\"styleClass\\\" [ngClass]=\\\"{'p-colorpicker p-component':true,'p-colorpicker-overlay':!inline,'p-colorpicker-dragging':colorDragging||hueDragging}\\\">\\n            <input #input type=\\\"text\\\" *ngIf=\\\"!inline\\\" class=\\\"p-colorpicker-preview p-inputtext\\\" readonly=\\\"readonly\\\" [ngClass]=\\\"{'p-disabled': disabled}\\\"\\n                (focus)=\\\"onInputFocus()\\\" (click)=\\\"onInputClick()\\\" (keydown)=\\\"onInputKeydown($event)\\\" [attr.id]=\\\"inputId\\\" [attr.tabindex]=\\\"tabindex\\\" [disabled]=\\\"disabled\\\"\\n                [style.backgroundColor]=\\\"inputBgColor\\\">\\n            <div *ngIf=\\\"inline || overlayVisible\\\" [ngClass]=\\\"{'p-colorpicker-panel': true, 'p-colorpicker-overlay-panel':!inline, 'p-disabled': disabled}\\\" (click)=\\\"onPanelClick()\\\"\\n                [@overlayAnimation]=\\\"{value: 'visible', params: {showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}\\\" [@.disabled]=\\\"inline === true\\\" \\n                    (@overlayAnimation.start)=\\\"onOverlayAnimationStart($event)\\\" (@overlayAnimation.done)=\\\"onOverlayAnimationEnd($event)\\\">\\n                <div class=\\\"p-colorpicker-content\\\">\\n                    <div #colorSelector class=\\\"p-colorpicker-color-selector\\\" (touchstart)=\\\"onColorTouchStart($event)\\\" (touchmove)=\\\"onMove($event)\\\" (touchend)=\\\"onDragEnd()\\\" (mousedown)=\\\"onColorMousedown($event)\\\">\\n                        <div class=\\\"p-colorpicker-color\\\">\\n                            <div #colorHandle class=\\\"p-colorpicker-color-handle\\\"></div>\\n                        </div>\\n                    </div>\\n                    <div #hue class=\\\"p-colorpicker-hue\\\" (mousedown)=\\\"onHueMousedown($event)\\\" (touchstart)=\\\"onHueTouchStart($event)\\\" (touchmove)=\\\"onMove($event)\\\" (touchend)=\\\"onDragEnd()\\\">\\n                        <div #hueHandle class=\\\"p-colorpicker-hue-handle\\\"></div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    \",\n      animations: [trigger('overlayAnimation', [transition(':enter', [style({\n        opacity: 0,\n        transform: 'scaleY(0.8)'\n      }), animate('{{showTransitionParams}}')]), transition(':leave', [animate('{{hideTransitionParams}}', style({\n        opacity: 0\n      }))])])],\n      providers: [COLORPICKER_VALUE_ACCESSOR],\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      encapsulation: ViewEncapsulation.None,\n      styles: [\".p-colorpicker{display:inline-block}.p-colorpicker-dragging{cursor:pointer}.p-colorpicker-overlay{position:relative}.p-colorpicker-panel{height:166px;position:relative;width:193px}.p-colorpicker-overlay-panel{position:absolute}.p-colorpicker-preview{cursor:pointer}.p-colorpicker-panel .p-colorpicker-content{position:relative}.p-colorpicker-panel .p-colorpicker-color-selector{height:150px;left:8px;position:absolute;top:8px;width:150px}.p-colorpicker-panel .p-colorpicker-color{height:150px;width:150px}.p-colorpicker-panel .p-colorpicker-color-handle{border-radius:100%;border-style:solid;border-width:1px;cursor:pointer;height:10px;left:150px;margin:-5px 0 0 -5px;opacity:.85;position:absolute;top:0;width:10px}.p-colorpicker-panel .p-colorpicker-hue{height:150px;left:167px;opacity:.85;position:absolute;top:8px;width:17px}.p-colorpicker-panel .p-colorpicker-hue-handle{border-style:solid;border-width:2px;cursor:pointer;height:10px;left:0;margin-left:-2px;margin-top:-5px;opacity:.85;position:absolute;top:150px;width:21px}\"]\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.Renderer2\n    }, {\n      type: ɵngcc0.ChangeDetectorRef\n    }];\n  }, {\n    format: [{\n      type: Input\n    }],\n    autoZIndex: [{\n      type: Input\n    }],\n    baseZIndex: [{\n      type: Input\n    }],\n    showTransitionOptions: [{\n      type: Input\n    }],\n    hideTransitionOptions: [{\n      type: Input\n    }],\n    onChange: [{\n      type: Output\n    }],\n    onShow: [{\n      type: Output\n    }],\n    onHide: [{\n      type: Output\n    }],\n    colorSelector: [{\n      type: ViewChild,\n      args: ['colorSelector']\n    }],\n    colorHandle: [{\n      type: ViewChild,\n      args: ['colorHandle']\n    }],\n    hue: [{\n      type: ViewChild,\n      args: ['hue']\n    }],\n    hueHandle: [{\n      type: ViewChild,\n      args: ['hueHandle']\n    }],\n    disabled: [{\n      type: Input\n    }],\n    style: [{\n      type: Input\n    }],\n    styleClass: [{\n      type: Input\n    }],\n    inline: [{\n      type: Input\n    }],\n    appendTo: [{\n      type: Input\n    }],\n    tabindex: [{\n      type: Input\n    }],\n    inputId: [{\n      type: Input\n    }],\n    containerViewChild: [{\n      type: ViewChild,\n      args: ['container']\n    }],\n    inputViewChild: [{\n      type: ViewChild,\n      args: ['input']\n    }]\n  });\n})();\n\nvar ColorPickerModule = function ColorPickerModule() {\n  _classCallCheck(this, ColorPickerModule);\n};\n\nColorPickerModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n  type: ColorPickerModule\n});\nColorPickerModule.ɵinj = ɵngcc0.ɵɵdefineInjector({\n  factory: function ColorPickerModule_Factory(t) {\n    return new (t || ColorPickerModule)();\n  },\n  imports: [[CommonModule]]\n});\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ColorPickerModule, {\n    declarations: function declarations() {\n      return [ColorPicker];\n    },\n    imports: function imports() {\n      return [CommonModule];\n    },\n    exports: function exports() {\n      return [ColorPicker];\n    }\n  });\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ColorPickerModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule],\n      exports: [ColorPicker],\n      declarations: [ColorPicker]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { COLORPICKER_VALUE_ACCESSOR, ColorPicker, ColorPickerModule };","map":{"version":3,"sources":["../../src/app/components/colorpicker/colorpicker.ts","../../src/app/components/colorpicker/primeng-colorpicker.ts"],"names":[],"mappings":"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","sourcesContent":["import { NgModule, Component, ElementRef, Input, Output, OnDestroy, EventEmitter, forwardRef, Renderer2, ViewChild, ChangeDetectorRef, ChangeDetectionStrategy, ViewEncapsulation } from '@angular/core';\nimport { trigger, state, style, transition, animate, AnimationEvent } from '@angular/animations';\nimport { CommonModule } from '@angular/common';\nimport { DomHandler, ConnectedOverlayScrollHandler } from 'primeng/dom';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\n\nexport const COLORPICKER_VALUE_ACCESSOR: any = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => ColorPicker),\n    multi: true\n};\n\n@Component({\n    selector: 'p-colorPicker',\n    template: `\n        <div #container [ngStyle]=\"style\" [class]=\"styleClass\" [ngClass]=\"{'p-colorpicker p-component':true,'p-colorpicker-overlay':!inline,'p-colorpicker-dragging':colorDragging||hueDragging}\">\n            <input #input type=\"text\" *ngIf=\"!inline\" class=\"p-colorpicker-preview p-inputtext\" readonly=\"readonly\" [ngClass]=\"{'p-disabled': disabled}\"\n                (focus)=\"onInputFocus()\" (click)=\"onInputClick()\" (keydown)=\"onInputKeydown($event)\" [attr.id]=\"inputId\" [attr.tabindex]=\"tabindex\" [disabled]=\"disabled\"\n                [style.backgroundColor]=\"inputBgColor\">\n            <div *ngIf=\"inline || overlayVisible\" [ngClass]=\"{'p-colorpicker-panel': true, 'p-colorpicker-overlay-panel':!inline, 'p-disabled': disabled}\" (click)=\"onPanelClick()\"\n                [@overlayAnimation]=\"{value: 'visible', params: {showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}\" [@.disabled]=\"inline === true\" \n                    (@overlayAnimation.start)=\"onOverlayAnimationStart($event)\" (@overlayAnimation.done)=\"onOverlayAnimationEnd($event)\">\n                <div class=\"p-colorpicker-content\">\n                    <div #colorSelector class=\"p-colorpicker-color-selector\" (touchstart)=\"onColorTouchStart($event)\" (touchmove)=\"onMove($event)\" (touchend)=\"onDragEnd()\" (mousedown)=\"onColorMousedown($event)\">\n                        <div class=\"p-colorpicker-color\">\n                            <div #colorHandle class=\"p-colorpicker-color-handle\"></div>\n                        </div>\n                    </div>\n                    <div #hue class=\"p-colorpicker-hue\" (mousedown)=\"onHueMousedown($event)\" (touchstart)=\"onHueTouchStart($event)\" (touchmove)=\"onMove($event)\" (touchend)=\"onDragEnd()\">\n                        <div #hueHandle class=\"p-colorpicker-hue-handle\"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `,\n    animations: [\n        trigger('overlayAnimation', [\n            transition(':enter', [\n                style({opacity: 0, transform: 'scaleY(0.8)'}),\n                animate('{{showTransitionParams}}')\n              ]),\n              transition(':leave', [\n                animate('{{hideTransitionParams}}', style({ opacity: 0 }))\n              ])\n        ])\n    ],\n    providers: [COLORPICKER_VALUE_ACCESSOR],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    styleUrls: ['./colorpicker.css']\n})\nexport class ColorPicker implements ControlValueAccessor, OnDestroy {\n\n    @Input() style: any;\n\n    @Input() styleClass: string;\n\n    @Input() inline: boolean;\n\n    @Input() format: string = 'hex';\n\n    @Input() appendTo: any;\n\n    @Input() disabled: boolean;\n\n    @Input() tabindex: string;\n\n    @Input() inputId: string;\n\n    @Input() autoZIndex: boolean = true;\n\n    @Input() baseZIndex: number = 0;\n\n    @Input() showTransitionOptions: string = '.12s cubic-bezier(0, 0, 0.2, 1)';\n\n    @Input() hideTransitionOptions: string = '.1s linear';\n\n    @Output() onChange: EventEmitter<any> = new EventEmitter();\n\n    @Output() onShow: EventEmitter<any> = new EventEmitter();\n\n    @Output() onHide: EventEmitter<any> = new EventEmitter();\n\n\n    @ViewChild('container') containerViewChild: ElementRef;\n\n    @ViewChild('input') inputViewChild: ElementRef;\n\n    value: any = {h:0, s: 100, b: 100};\n\n    inputBgColor: string;\n\n    shown: boolean;\n\n    overlayVisible: boolean;\n\n    defaultColor: string = 'ff0000';\n\n    onModelChange: Function = () => {};\n\n    onModelTouched: Function = () => {};\n\n    documentClickListener: Function;\n\n    documentResizeListener: any;\n\n    documentMousemoveListener: Function;\n\n    documentMouseupListener: Function;\n\n    documentHueMoveListener: Function;\n\n    scrollHandler: any;\n\n    selfClick: boolean;\n\n    colorDragging: boolean;\n\n    hueDragging: boolean;\n\n    overlay: HTMLDivElement;\n\n    colorSelectorViewChild: ElementRef;\n\n    colorHandleViewChild: ElementRef;\n\n    hueViewChild: ElementRef;\n\n    hueHandleViewChild: ElementRef;\n\n    constructor(public el: ElementRef, public renderer: Renderer2, public cd: ChangeDetectorRef) {}\n\n    @ViewChild('colorSelector') set colorSelector(element: ElementRef) {\n        this.colorSelectorViewChild = element;\n    }\n\n    @ViewChild('colorHandle') set colorHandle(element: ElementRef) {\n        this.colorHandleViewChild = element;\n    }\n\n    @ViewChild('hue') set hue(element: ElementRef) {\n        this.hueViewChild = element;\n    }\n\n    @ViewChild('hueHandle') set hueHandle(element: ElementRef) {\n        this.hueHandleViewChild = element;\n    }\n\n    onHueMousedown(event: MouseEvent) {\n        if (this.disabled) {\n            return;\n        }\n\n        this.bindDocumentMousemoveListener();\n        this.bindDocumentMouseupListener();\n\n        this.hueDragging = true;\n        this.pickHue(event);\n    }\n\n    onHueTouchStart(event) {\n        if (this.disabled) {\n            return;\n        }\n\n        this.hueDragging = true;\n        this.pickHue(event);\n    }\n\n    onColorTouchStart(event) {\n        if (this.disabled) {\n            return;\n        }\n\n        this.colorDragging = true;\n        this.pickColor(event);\n    }\n\n    pickHue(event) {\n        let top: number = this.hueViewChild.nativeElement.getBoundingClientRect().top + (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0);\n        this.value = this.validateHSB({\n            h: Math.floor(360 * (150 - Math.max(0, Math.min(150, ((event.pageY || event.changedTouches[0].pageY) - top)))) / 150),\n            s: this.value.s,\n            b: this.value.b\n        });\n\n        this.updateColorSelector();\n        this.updateUI();\n        this.updateModel();\n        this.onChange.emit({originalEvent: event, value: this.getValueToUpdate()});\n    }\n\n    onColorMousedown(event: MouseEvent) {\n        if (this.disabled) {\n            return;\n        }\n\n        this.bindDocumentMousemoveListener();\n        this.bindDocumentMouseupListener();\n\n        this.colorDragging = true;\n        this.pickColor(event);\n    }\n\n    onMove(event) {\n        if (this.colorDragging) {\n            this.pickColor(event);\n            event.preventDefault();\n        }\n\n        if (this.hueDragging) {\n            this.pickHue(event);\n            event.preventDefault();\n        }\n    }\n\n    onDragEnd() {\n        this.colorDragging = false;\n        this.hueDragging = false;\n\n        this.unbindDocumentMousemoveListener();\n        this.unbindDocumentMouseupListener();\n    }\n\n    pickColor(event) {\n        let rect = this.colorSelectorViewChild.nativeElement.getBoundingClientRect();\n        let top = rect.top + (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0);\n        let left = rect.left + document.body.scrollLeft;\n        let saturation = Math.floor(100 * (Math.max(0, Math.min(150, ((event.pageX || event.changedTouches[0].pageX)- left)))) / 150);\n        let brightness = Math.floor(100 * (150 - Math.max(0, Math.min(150, ((event.pageY || event.changedTouches[0].pageY) - top)))) / 150);\n        this.value = this.validateHSB({\n            h: this.value.h,\n            s: saturation,\n            b: brightness\n        });\n\n        this.updateUI();\n        this.updateModel();\n        this.onChange.emit({originalEvent: event, value: this.getValueToUpdate()});\n    }\n\n    getValueToUpdate() {\n        let val: any;\n        switch(this.format) {\n            case 'hex':\n                val = '#' + this.HSBtoHEX(this.value);\n            break;\n\n            case 'rgb':\n                val = this.HSBtoRGB(this.value);\n            break;\n\n            case 'hsb':\n                val = this.value;\n            break;\n        }\n\n        return val;\n    }\n\n    updateModel(): void {\n        this.onModelChange(this.getValueToUpdate());\n    }\n\n    writeValue(value: any): void {\n        if (value) {\n            switch(this.format) {\n                case 'hex':\n                    this.value = this.HEXtoHSB(value);\n                break;\n\n                case 'rgb':\n                    this.value = this.RGBtoHSB(value);\n                break;\n\n                case 'hsb':\n                    this.value = value;\n                break;\n            }\n        }\n        else {\n            this.value = this.HEXtoHSB(this.defaultColor);\n        }\n\n        this.updateColorSelector();\n        this.updateUI();\n        this.cd.markForCheck();\n    }\n\n    updateColorSelector() {\n        if (this.colorSelectorViewChild) {\n            const hsb: any = {};\n            hsb.s = 100;\n            hsb.b = 100;\n            hsb.h = this.value.h;\n\n            this.colorSelectorViewChild.nativeElement.style.backgroundColor = '#' + this.HSBtoHEX(hsb);\n        }\n    }\n\n    updateUI() {\n        if (this.colorHandleViewChild && this.hueHandleViewChild.nativeElement) {\n            this.colorHandleViewChild.nativeElement.style.left =  Math.floor(150 * this.value.s / 100) + 'px';\n            this.colorHandleViewChild.nativeElement.style.top =  Math.floor(150 * (100 - this.value.b) / 100) + 'px';\n            this.hueHandleViewChild.nativeElement.style.top = Math.floor(150 - (150 * this.value.h / 360)) + 'px';\n\n        }\n\n        this.inputBgColor = '#' + this.HSBtoHEX(this.value);\n    }\n\n    onInputFocus() {\n        this.onModelTouched();\n    }\n\n    show() {\n        this.overlayVisible = true;\n    }\n\n    onOverlayAnimationStart(event: AnimationEvent) {\n        switch(event.toState) {\n            case 'visible':\n                if (!this.inline) {\n                    this.overlay = event.element;\n                    this.appendOverlay();\n                    if (this.autoZIndex) {\n                        this.overlay.style.zIndex = String(this.baseZIndex + (++DomHandler.zindex));\n                    }\n                    this.alignOverlay();\n                    this.bindDocumentClickListener();\n                    this.bindDocumentResizeListener();\n                    this.bindScrollListener();\n\n                    this.updateColorSelector();\n                    this.updateUI();\n                }\n            break;\n\n            case 'void':\n                this.onOverlayHide();\n            break;\n        }\n    }\n\n    onOverlayAnimationEnd(event: AnimationEvent) {\n        switch(event.toState) {\n            case 'visible':\n                if (!this.inline) {\n                    this.onShow.emit({})\n                }\n            break;\n\n            case 'void':\n                this.onHide.emit({})\n            break;\n        }\n    }\n\n    appendOverlay() {\n        if (this.appendTo) {\n            if (this.appendTo === 'body')\n                document.body.appendChild(this.overlay);\n            else\n                DomHandler.appendChild(this.overlay, this.appendTo);\n        }\n    }\n\n    restoreOverlayAppend() {\n        if (this.overlay && this.appendTo) {\n            this.el.nativeElement.appendChild(this.overlay);\n        }\n    }\n\n    alignOverlay() {\n        if (this.appendTo)\n            DomHandler.absolutePosition(this.overlay, this.inputViewChild.nativeElement);\n        else\n            DomHandler.relativePosition(this.overlay, this.inputViewChild.nativeElement);\n    }\n\n    hide() {\n        this.overlayVisible = false;\n        this.cd.markForCheck();\n    }\n\n    onInputClick() {\n        this.selfClick = true;\n        this.togglePanel();\n    }\n\n    togglePanel() {\n        if (!this.overlayVisible)\n            this.show();\n        else\n            this.hide();\n    }\n\n    onInputKeydown(event: KeyboardEvent) {\n        switch(event.which) {\n            //space\n            case 32:\n                this.togglePanel();\n                event.preventDefault();\n            break;\n\n            //escape and tab\n            case 27:\n            case 9:\n                this.hide();\n            break;\n        }\n    }\n\n    onPanelClick() {\n        this.selfClick = true;\n    }\n\n    registerOnChange(fn: Function): void {\n        this.onModelChange = fn;\n    }\n\n    registerOnTouched(fn: Function): void {\n        this.onModelTouched = fn;\n    }\n\n    setDisabledState(val: boolean): void {\n        this.disabled = val;\n        this.cd.markForCheck();\n    }\n\n    bindDocumentClickListener() {\n        if (!this.documentClickListener) {\n            const documentTarget: any = this.el ? this.el.nativeElement.ownerDocument : 'document';\n\n            this.documentClickListener = this.renderer.listen(documentTarget, 'click', () => {\n                if (!this.selfClick) {\n                    this.overlayVisible = false;\n                    this.unbindDocumentClickListener();\n                }\n\n                this.selfClick = false;\n                this.cd.markForCheck();\n            });\n        }\n    }\n\n    unbindDocumentClickListener() {\n        if (this.documentClickListener) {\n            this.documentClickListener();\n            this.documentClickListener = null;\n        }\n    }\n\n    bindDocumentMousemoveListener() {\n        if (!this.documentMousemoveListener) {\n            const documentTarget: any = this.el ? this.el.nativeElement.ownerDocument : 'document';\n\n            this.documentMousemoveListener = this.renderer.listen(documentTarget, 'mousemove', (event: MouseEvent) => {\n                if (this.colorDragging) {\n                    this.pickColor(event);\n                }\n\n                if (this.hueDragging) {\n                    this.pickHue(event);\n                }\n            });\n        }\n    }\n\n    unbindDocumentMousemoveListener() {\n        if (this.documentMousemoveListener) {\n            this.documentMousemoveListener();\n            this.documentMousemoveListener = null;\n        }\n    }\n\n    bindDocumentMouseupListener() {\n        if (!this.documentMouseupListener) {\n            const documentTarget: any = this.el ? this.el.nativeElement.ownerDocument : 'document';\n\n            this.documentMouseupListener = this.renderer.listen(documentTarget, 'mouseup', () => {\n                this.colorDragging = false;\n                this.hueDragging = false;\n                this.unbindDocumentMousemoveListener();\n                this.unbindDocumentMouseupListener();\n            });\n        }\n    }\n\n    unbindDocumentMouseupListener() {\n        if (this.documentMouseupListener) {\n            this.documentMouseupListener();\n            this.documentMouseupListener = null;\n        }\n    }\n\n    bindDocumentResizeListener() {\n        this.documentResizeListener = this.onWindowResize.bind(this);\n        window.addEventListener('resize', this.documentResizeListener);\n    }\n\n    unbindDocumentResizeListener() {\n        if (this.documentResizeListener) {\n            window.removeEventListener('resize', this.documentResizeListener);\n            this.documentResizeListener = null;\n        }\n    }\n\n    onWindowResize() {\n        this.hide();\n    }\n\n    bindScrollListener() {\n        if (!this.scrollHandler) {\n            this.scrollHandler = new ConnectedOverlayScrollHandler(this.containerViewChild.nativeElement, () => {\n                if (this.overlayVisible) {\n                    this.hide();\n                }\n            });\n        }\n\n        this.scrollHandler.bindScrollListener();\n    }\n\n    unbindScrollListener() {\n        if (this.scrollHandler) {\n            this.scrollHandler.unbindScrollListener();\n        }\n    }\n\n    validateHSB(hsb) {\n        return {\n            h: Math.min(360, Math.max(0, hsb.h)),\n            s: Math.min(100, Math.max(0, hsb.s)),\n            b: Math.min(100, Math.max(0, hsb.b))\n        };\n    }\n\n    validateRGB(rgb) {\n        return {\n            r: Math.min(255, Math.max(0, rgb.r)),\n            g: Math.min(255, Math.max(0, rgb.g)),\n            b: Math.min(255, Math.max(0, rgb.b))\n        };\n    }\n\n    validateHEX(hex) {\n        var len = 6 - hex.length;\n        if (len > 0) {\n            var o = [];\n            for (var i=0; i<len; i++) {\n                o.push('0');\n            }\n            o.push(hex);\n            hex = o.join('');\n        }\n        return hex;\n    }\n\n    HEXtoRGB(hex) {\n        let hexValue = parseInt(((hex.indexOf('#') > -1) ? hex.substring(1) : hex), 16);\n        return {r: hexValue >> 16, g: (hexValue & 0x00FF00) >> 8, b: (hexValue & 0x0000FF)};\n    }\n\n    HEXtoHSB(hex) {\n        return this.RGBtoHSB(this.HEXtoRGB(hex));\n    }\n\n    RGBtoHSB(rgb) {\n        var hsb = {\n            h: 0,\n            s: 0,\n            b: 0\n        };\n        var min = Math.min(rgb.r, rgb.g, rgb.b);\n        var max = Math.max(rgb.r, rgb.g, rgb.b);\n        var delta = max - min;\n        hsb.b = max;\n        hsb.s = max != 0 ? 255 * delta / max : 0;\n        if (hsb.s != 0) {\n            if (rgb.r == max) {\n                hsb.h = (rgb.g - rgb.b) / delta;\n            } else if (rgb.g == max) {\n                hsb.h = 2 + (rgb.b - rgb.r) / delta;\n            } else {\n                hsb.h = 4 + (rgb.r - rgb.g) / delta;\n            }\n        } else {\n            hsb.h = -1;\n        }\n        hsb.h *= 60;\n        if (hsb.h < 0) {\n            hsb.h += 360;\n        }\n        hsb.s *= 100/255;\n        hsb.b *= 100/255;\n        return hsb;\n    }\n\n    HSBtoRGB(hsb) {\n        var rgb = {\n            r: null, g: null, b: null\n        };\n        let h: number = hsb.h;\n        let s: number = hsb.s*255/100;\n        let v: number = hsb.b*255/100;\n        if (s == 0) {\n            rgb = {\n                r: v,\n                g: v,\n                b: v\n            }\n        }\n        else {\n            let t1: number = v;\n            let t2: number = (255-s)*v/255;\n            let t3: number = (t1-t2)*(h%60)/60;\n            if (h==360) h = 0;\n            if (h<60) {rgb.r=t1;\trgb.b=t2; rgb.g=t2+t3}\n            else if (h<120) {rgb.g=t1; rgb.b=t2;\trgb.r=t1-t3}\n            else if (h<180) {rgb.g=t1; rgb.r=t2;\trgb.b=t2+t3}\n            else if (h<240) {rgb.b=t1; rgb.r=t2;\trgb.g=t1-t3}\n            else if (h<300) {rgb.b=t1; rgb.g=t2;\trgb.r=t2+t3}\n            else if (h<360) {rgb.r=t1; rgb.g=t2;\trgb.b=t1-t3}\n            else {rgb.r=0; rgb.g=0;\trgb.b=0}\n        }\n        return {r:Math.round(rgb.r), g:Math.round(rgb.g), b:Math.round(rgb.b)};\n    }\n\n    RGBtoHEX(rgb) {\n        var hex = [\n            rgb.r.toString(16),\n            rgb.g.toString(16),\n            rgb.b.toString(16)\n        ];\n\n        for(var key in hex) {\n            if (hex[key].length == 1) {\n                hex[key] = '0' + hex[key];\n            }\n        }\n\n        return hex.join('');\n    }\n\n    HSBtoHEX(hsb) {\n        return this.RGBtoHEX(this.HSBtoRGB(hsb));\n    }\n\n    onOverlayHide() {\n        this.unbindScrollListener();\n        this.unbindDocumentResizeListener();\n        this.unbindDocumentClickListener();\n        this.overlay = null;\n    }\n\n    ngOnDestroy() {\n        if (this.scrollHandler) {\n            this.scrollHandler.destroy();\n            this.scrollHandler = null;\n        }\n\n        this.restoreOverlayAppend();\n        this.onOverlayHide();\n    }\n}\n\n@NgModule({\n    imports: [CommonModule],\n    exports: [ColorPicker],\n    declarations: [ColorPicker]\n})\nexport class ColorPickerModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]},"metadata":{},"sourceType":"module"}