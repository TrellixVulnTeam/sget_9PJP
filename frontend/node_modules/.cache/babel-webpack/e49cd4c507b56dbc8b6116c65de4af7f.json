{"ast":null,"code":"import _classCallCheck from \"/home/basis/TCC/codificacao/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/basis/TCC/codificacao/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, ElementRef, Input, ContentChild, ContentChildren, ViewChild, Output, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Header, Footer, PrimeTemplate, SharedModule } from 'primeng/api';\nimport { CdkVirtualScrollViewport, ScrollingModule } from '@angular/cdk/scrolling';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nimport * as ɵngcc2 from '@angular/cdk/scrolling';\n\nfunction VirtualScroller_div_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainer(0);\n  }\n}\n\nfunction VirtualScroller_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 9);\n    ɵngcc0.ɵɵprojection(1);\n    ɵngcc0.ɵɵtemplate(2, VirtualScroller_div_1_ng_container_2_Template, 1, 0, \"ng-container\", 10);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r0.headerTemplate);\n  }\n}\n\nfunction VirtualScroller_ng_container_7_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainer(0);\n  }\n}\n\nvar _c0 = function _c0(a0) {\n  return {\n    \"height\": a0\n  };\n};\n\nvar _c1 = function _c1(a0, a1, a2, a3, a4, a5, a6) {\n  return {\n    $implicit: a0,\n    index: a1,\n    count: a2,\n    first: a3,\n    last: a4,\n    even: a5,\n    odd: a6\n  };\n};\n\nfunction VirtualScroller_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 11);\n    ɵngcc0.ɵɵtemplate(2, VirtualScroller_ng_container_7_ng_container_2_Template, 1, 0, \"ng-container\", 12);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var item_r6 = ctx.$implicit;\n    var i_r7 = ctx.index;\n    var c_r8 = ctx.count;\n    var f_r9 = ctx.first;\n    var l_r10 = ctx.last;\n    var e_r11 = ctx.even;\n    var o_r12 = ctx.odd;\n    var ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngStyle\", ɵngcc0.ɵɵpureFunction1(3, _c0, ctx_r3.itemSize + \"px\"));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", item_r6 ? ctx_r3.itemTemplate : ctx_r3.loadingItemTemplate)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction7(5, _c1, item_r6, i_r7, c_r8, f_r9, l_r10, e_r11, o_r12));\n  }\n}\n\nfunction VirtualScroller_div_8_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainer(0);\n  }\n}\n\nfunction VirtualScroller_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 13);\n    ɵngcc0.ɵɵprojection(1, 1);\n    ɵngcc0.ɵɵtemplate(2, VirtualScroller_div_8_ng_container_2_Template, 1, 0, \"ng-container\", 10);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r4.footerTemplate);\n  }\n}\n\nvar _c2 = [[[\"p-header\"]], [[\"p-footer\"]]];\nvar _c3 = [\"p-header\", \"p-footer\"];\n\nvar VirtualScroller = /*#__PURE__*/function () {\n  function VirtualScroller(el) {\n    _classCallCheck(this, VirtualScroller);\n\n    this.el = el;\n    this.delay = 250;\n\n    this.trackBy = function (index, item) {\n      return item;\n    };\n\n    this.onLazyLoad = new EventEmitter();\n    this._totalRecords = 0;\n    this.page = 0;\n    this._first = 0;\n  }\n\n  _createClass(VirtualScroller, [{\n    key: \"totalRecords\",\n    get: function get() {\n      return this._totalRecords;\n    },\n    set: function set(val) {\n      this._totalRecords = val;\n      console.log(\"totalRecords is deprecated, provide a value with the length of virtual items instead.\");\n    }\n  }, {\n    key: \"first\",\n    get: function get() {\n      return this._first;\n    },\n    set: function set(val) {\n      this._first = val;\n      console.log(\"first property is deprecated, use scrollToIndex function to scroll a specific item.\");\n    }\n  }, {\n    key: \"cache\",\n    get: function get() {\n      return this._cache;\n    },\n    set: function set(val) {\n      this._cache = val;\n      console.log(\"cache is deprecated as it is always on.\");\n    }\n  }, {\n    key: \"ngAfterContentInit\",\n    value: function ngAfterContentInit() {\n      var _this = this;\n\n      this.templates.forEach(function (item) {\n        switch (item.getType()) {\n          case 'item':\n            _this.itemTemplate = item.template;\n            break;\n\n          case 'loadingItem':\n            _this.loadingItemTemplate = item.template;\n            break;\n\n          case 'header':\n            _this.headerTemplate = item.template;\n            break;\n\n          case 'footer':\n            _this.footerTemplate = item.template;\n            break;\n\n          default:\n            _this.itemTemplate = item.template;\n            break;\n        }\n      });\n    }\n  }, {\n    key: \"onScrollIndexChange\",\n    value: function onScrollIndexChange(index) {\n      var _this2 = this;\n\n      if (this.lazy) {\n        if (this.virtualScrollTimeout) {\n          clearTimeout(this.virtualScrollTimeout);\n        }\n\n        this.virtualScrollTimeout = setTimeout(function () {\n          var page = Math.floor(index / _this2.rows);\n          var virtualScrollOffset = page === 0 ? 0 : (page - 1) * _this2.rows;\n          var virtualScrollChunkSize = page === 0 ? _this2.rows * 2 : _this2.rows * 3;\n\n          if (page !== _this2.virtualPage) {\n            _this2.virtualPage = page;\n\n            _this2.onLazyLoad.emit({\n              first: virtualScrollOffset,\n              rows: virtualScrollChunkSize\n            });\n          }\n        }, this.delay);\n      }\n    }\n  }, {\n    key: \"getBlockableElement\",\n    value: function getBlockableElement() {\n      return this.el.nativeElement.children[0];\n    } //@deprecated\n\n  }, {\n    key: \"scrollTo\",\n    value: function scrollTo(index, mode) {\n      this.scrollToIndex(index, mode);\n    }\n  }, {\n    key: \"scrollToIndex\",\n    value: function scrollToIndex(index, mode) {\n      if (this.viewport) {\n        this.viewport.scrollToIndex(index, mode);\n      }\n    }\n  }]);\n\n  return VirtualScroller;\n}();\n\nVirtualScroller.ɵfac = function VirtualScroller_Factory(t) {\n  return new (t || VirtualScroller)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef));\n};\n\nVirtualScroller.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: VirtualScroller,\n  selectors: [[\"p-virtualScroller\"]],\n  contentQueries: function VirtualScroller_ContentQueries(rf, ctx, dirIndex) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵcontentQuery(dirIndex, Header, 1);\n      ɵngcc0.ɵɵcontentQuery(dirIndex, Footer, 1);\n      ɵngcc0.ɵɵcontentQuery(dirIndex, PrimeTemplate, 0);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.header = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.footer = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.templates = _t);\n    }\n  },\n  viewQuery: function VirtualScroller_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(CdkVirtualScrollViewport, 1);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.viewport = _t.first);\n    }\n  },\n  inputs: {\n    delay: \"delay\",\n    trackBy: \"trackBy\",\n    totalRecords: \"totalRecords\",\n    first: \"first\",\n    cache: \"cache\",\n    value: \"value\",\n    itemSize: \"itemSize\",\n    style: \"style\",\n    styleClass: \"styleClass\",\n    scrollHeight: \"scrollHeight\",\n    lazy: \"lazy\",\n    rows: \"rows\",\n    minBufferPx: \"minBufferPx\",\n    maxBufferPx: \"maxBufferPx\"\n  },\n  outputs: {\n    onLazyLoad: \"onLazyLoad\"\n  },\n  ngContentSelectors: _c3,\n  decls: 9,\n  vars: 14,\n  consts: [[3, \"ngClass\", \"ngStyle\"], [\"class\", \"p-virtualscroller-header\", 4, \"ngIf\"], [1, \"p-virtualscroller-content\"], [\"content\", \"\"], [1, \"p-virtualscroller-list\"], [\"tabindex\", \"0\", 3, \"ngStyle\", \"itemSize\", \"minBufferPx\", \"maxBufferPx\", \"scrolledIndexChange\"], [\"viewport\", \"\"], [4, \"cdkVirtualFor\", \"cdkVirtualForOf\", \"cdkVirtualForTrackBy\"], [\"class\", \"p-virtualscroller-footer\", 4, \"ngIf\"], [1, \"p-virtualscroller-header\"], [4, \"ngTemplateOutlet\"], [1, \"p-virtualscroller-item\", 3, \"ngStyle\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [1, \"p-virtualscroller-footer\"]],\n  template: function VirtualScroller_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef(_c2);\n      ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n      ɵngcc0.ɵɵtemplate(1, VirtualScroller_div_1_Template, 3, 1, \"div\", 1);\n      ɵngcc0.ɵɵelementStart(2, \"div\", 2, 3);\n      ɵngcc0.ɵɵelementStart(4, \"div\", 4);\n      ɵngcc0.ɵɵelementStart(5, \"cdk-virtual-scroll-viewport\", 5, 6);\n      ɵngcc0.ɵɵlistener(\"scrolledIndexChange\", function VirtualScroller_Template_cdk_virtual_scroll_viewport_scrolledIndexChange_5_listener($event) {\n        return ctx.onScrollIndexChange($event);\n      });\n      ɵngcc0.ɵɵtemplate(7, VirtualScroller_ng_container_7_Template, 3, 13, \"ng-container\", 7);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵtemplate(8, VirtualScroller_div_8_Template, 3, 1, \"div\", 8);\n      ɵngcc0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵclassMap(ctx.styleClass);\n      ɵngcc0.ɵɵproperty(\"ngClass\", \"p-virtualscroller p-component\")(\"ngStyle\", ctx.style);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.header || ctx.headerTemplate);\n      ɵngcc0.ɵɵadvance(4);\n      ɵngcc0.ɵɵproperty(\"ngStyle\", ɵngcc0.ɵɵpureFunction1(12, _c0, ctx.scrollHeight))(\"itemSize\", ctx.itemSize)(\"minBufferPx\", ctx.minBufferPx)(\"maxBufferPx\", ctx.maxBufferPx);\n      ɵngcc0.ɵɵadvance(2);\n      ɵngcc0.ɵɵproperty(\"cdkVirtualForOf\", ctx.value)(\"cdkVirtualForTrackBy\", ctx.trackBy);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.footer || ctx.footerTemplate);\n    }\n  },\n  directives: [ɵngcc1.NgClass, ɵngcc1.NgStyle, ɵngcc1.NgIf, ɵngcc2.CdkVirtualScrollViewport, ɵngcc2.CdkFixedSizeVirtualScroll, ɵngcc2.CdkVirtualForOf, ɵngcc1.NgTemplateOutlet],\n  styles: [\"cdk-virtual-scroll-viewport{outline:0 none}\"],\n  encapsulation: 2\n});\n\nVirtualScroller.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }];\n};\n\nVirtualScroller.propDecorators = {\n  value: [{\n    type: Input\n  }],\n  itemSize: [{\n    type: Input\n  }],\n  style: [{\n    type: Input\n  }],\n  styleClass: [{\n    type: Input\n  }],\n  scrollHeight: [{\n    type: Input\n  }],\n  lazy: [{\n    type: Input\n  }],\n  rows: [{\n    type: Input\n  }],\n  minBufferPx: [{\n    type: Input\n  }],\n  maxBufferPx: [{\n    type: Input\n  }],\n  delay: [{\n    type: Input\n  }],\n  trackBy: [{\n    type: Input\n  }],\n  header: [{\n    type: ContentChild,\n    args: [Header]\n  }],\n  footer: [{\n    type: ContentChild,\n    args: [Footer]\n  }],\n  templates: [{\n    type: ContentChildren,\n    args: [PrimeTemplate]\n  }],\n  viewport: [{\n    type: ViewChild,\n    args: [CdkVirtualScrollViewport]\n  }],\n  onLazyLoad: [{\n    type: Output\n  }],\n  totalRecords: [{\n    type: Input\n  }],\n  first: [{\n    type: Input\n  }],\n  cache: [{\n    type: Input\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(VirtualScroller, [{\n    type: Component,\n    args: [{\n      selector: 'p-virtualScroller',\n      template: \"\\n        <div [ngClass]=\\\"'p-virtualscroller p-component'\\\" [ngStyle]=\\\"style\\\" [class]=\\\"styleClass\\\">\\n            <div class=\\\"p-virtualscroller-header\\\" *ngIf=\\\"header || headerTemplate\\\">\\n                <ng-content select=\\\"p-header\\\"></ng-content>\\n                <ng-container *ngTemplateOutlet=\\\"headerTemplate\\\"></ng-container>\\n            </div>\\n            <div #content class=\\\"p-virtualscroller-content\\\">\\n                <div class=\\\"p-virtualscroller-list\\\">\\n                    <cdk-virtual-scroll-viewport #viewport [ngStyle]=\\\"{'height': scrollHeight}\\\" tabindex=\\\"0\\\" [itemSize]=\\\"itemSize\\\" [minBufferPx]=\\\"minBufferPx\\\" [maxBufferPx]=\\\"maxBufferPx\\\" (scrolledIndexChange)=\\\"onScrollIndexChange($event)\\\">\\n                        <ng-container *cdkVirtualFor=\\\"let item of value; trackBy: trackBy; let i = index; let c = count; let f = first; let l = last; let e = even; let o = odd;\\\">\\n                            <div [ngStyle]=\\\"{'height': itemSize + 'px'}\\\" class=\\\"p-virtualscroller-item\\\">\\n                                <ng-container *ngTemplateOutlet=\\\"item ? itemTemplate : loadingItemTemplate; context: {$implicit: item, index: i, count: c, first: f, last: l, even: e, odd: o}\\\"></ng-container>\\n                            </div>\\n                        </ng-container>\\n                    </cdk-virtual-scroll-viewport>\\n                </div>\\n            </div>\\n            <div class=\\\"p-virtualscroller-footer\\\" *ngIf=\\\"footer || footerTemplate\\\">\\n                <ng-content select=\\\"p-footer\\\"></ng-content>\\n                <ng-container *ngTemplateOutlet=\\\"footerTemplate\\\"></ng-container>\\n            </div>\\n        </div>\\n    \",\n      changeDetection: ChangeDetectionStrategy.Default,\n      encapsulation: ViewEncapsulation.None,\n      styles: [\"cdk-virtual-scroll-viewport{outline:0 none}\"]\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }];\n  }, {\n    delay: [{\n      type: Input\n    }],\n    trackBy: [{\n      type: Input\n    }],\n    onLazyLoad: [{\n      type: Output\n    }],\n    totalRecords: [{\n      type: Input\n    }],\n    first: [{\n      type: Input\n    }],\n    cache: [{\n      type: Input\n    }],\n    value: [{\n      type: Input\n    }],\n    itemSize: [{\n      type: Input\n    }],\n    style: [{\n      type: Input\n    }],\n    styleClass: [{\n      type: Input\n    }],\n    scrollHeight: [{\n      type: Input\n    }],\n    lazy: [{\n      type: Input\n    }],\n    rows: [{\n      type: Input\n    }],\n    minBufferPx: [{\n      type: Input\n    }],\n    maxBufferPx: [{\n      type: Input\n    }],\n    header: [{\n      type: ContentChild,\n      args: [Header]\n    }],\n    footer: [{\n      type: ContentChild,\n      args: [Footer]\n    }],\n    templates: [{\n      type: ContentChildren,\n      args: [PrimeTemplate]\n    }],\n    viewport: [{\n      type: ViewChild,\n      args: [CdkVirtualScrollViewport]\n    }]\n  });\n})();\n\nvar VirtualScrollerModule = function VirtualScrollerModule() {\n  _classCallCheck(this, VirtualScrollerModule);\n};\n\nVirtualScrollerModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n  type: VirtualScrollerModule\n});\nVirtualScrollerModule.ɵinj = ɵngcc0.ɵɵdefineInjector({\n  factory: function VirtualScrollerModule_Factory(t) {\n    return new (t || VirtualScrollerModule)();\n  },\n  imports: [[CommonModule, ScrollingModule], SharedModule, ScrollingModule]\n});\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(VirtualScrollerModule, {\n    declarations: function declarations() {\n      return [VirtualScroller];\n    },\n    imports: function imports() {\n      return [CommonModule, ScrollingModule];\n    },\n    exports: function exports() {\n      return [VirtualScroller, SharedModule, ScrollingModule];\n    }\n  });\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(VirtualScrollerModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, ScrollingModule],\n      exports: [VirtualScroller, SharedModule, ScrollingModule],\n      declarations: [VirtualScroller]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { VirtualScroller, VirtualScrollerModule };","map":{"version":3,"sources":["../../src/app/components/virtualscroller/virtualscroller.ts","../../src/app/components/virtualscroller/primeng-virtualscroller.ts"],"names":[],"mappings":"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","sourcesContent":["import {NgModule,Component,ElementRef,AfterContentInit,Input,Output,ViewChild,EventEmitter,ContentChild,ContentChildren,QueryList,TemplateRef,ChangeDetectionStrategy, ViewEncapsulation} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {Header,Footer,PrimeTemplate,SharedModule} from 'primeng/api';\nimport {ScrollingModule,CdkVirtualScrollViewport} from '@angular/cdk/scrolling';\nimport {BlockableUI} from 'primeng/api';\n\n@Component({\n    selector: 'p-virtualScroller',\n    template:`\n        <div [ngClass]=\"'p-virtualscroller p-component'\" [ngStyle]=\"style\" [class]=\"styleClass\">\n            <div class=\"p-virtualscroller-header\" *ngIf=\"header || headerTemplate\">\n                <ng-content select=\"p-header\"></ng-content>\n                <ng-container *ngTemplateOutlet=\"headerTemplate\"></ng-container>\n            </div>\n            <div #content class=\"p-virtualscroller-content\">\n                <div class=\"p-virtualscroller-list\">\n                    <cdk-virtual-scroll-viewport #viewport [ngStyle]=\"{'height': scrollHeight}\" tabindex=\"0\" [itemSize]=\"itemSize\" [minBufferPx]=\"minBufferPx\" [maxBufferPx]=\"maxBufferPx\" (scrolledIndexChange)=\"onScrollIndexChange($event)\">\n                        <ng-container *cdkVirtualFor=\"let item of value; trackBy: trackBy; let i = index; let c = count; let f = first; let l = last; let e = even; let o = odd;\">\n                            <div [ngStyle]=\"{'height': itemSize + 'px'}\" class=\"p-virtualscroller-item\">\n                                <ng-container *ngTemplateOutlet=\"item ? itemTemplate : loadingItemTemplate; context: {$implicit: item, index: i, count: c, first: f, last: l, even: e, odd: o}\"></ng-container>\n                            </div>\n                        </ng-container>\n                    </cdk-virtual-scroll-viewport>\n                </div>\n            </div>\n            <div class=\"p-virtualscroller-footer\" *ngIf=\"footer || footerTemplate\">\n                <ng-content select=\"p-footer\"></ng-content>\n                <ng-container *ngTemplateOutlet=\"footerTemplate\"></ng-container>\n            </div>\n        </div>\n    `,\n    changeDetection: ChangeDetectionStrategy.Default,\n    encapsulation: ViewEncapsulation.None,\n    styleUrls: ['./virtualscroller.css']\n})\nexport class VirtualScroller implements AfterContentInit,BlockableUI {\n\n    @Input() value: any[];\n\n    @Input() itemSize: number; \n\n    @Input() style: any;\n\n    @Input() styleClass: string;\n    \n    @Input() scrollHeight: any;\n\n    @Input() lazy: boolean;\n\n    @Input() rows: number;\n\n    @Input() minBufferPx: number;\n\n    @Input() maxBufferPx: number;\n\n    @Input() delay: number = 250;\n  \n    @Input() trackBy: Function = (index: number, item: any) => item;\n                \n    @ContentChild(Header) header: Header;\n\n    @ContentChild(Footer) footer: Footer;\n    \n    @ContentChildren(PrimeTemplate) templates: QueryList<any>;\n\n    @ViewChild(CdkVirtualScrollViewport) viewport: CdkVirtualScrollViewport;\n\n    @Output() onLazyLoad: EventEmitter<any> = new EventEmitter();\n\n    itemTemplate: TemplateRef<any>;\n\n    headerTemplate: TemplateRef<any>;\n\n    footerTemplate: TemplateRef<any>;\n\n    loadingItemTemplate: TemplateRef<any>;\n\n    _totalRecords: number = 0;\n\n    page: number = 0;\n\n    _first: number = 0;\n\n    _cache: boolean;\n\n    virtualScrollTimeout: any;\n\n    virtualPage: number;\n\n    constructor(public el: ElementRef) {}\n\n    @Input() get totalRecords(): number {\n        return this._totalRecords;\n    }\n    set totalRecords(val: number) {\n        this._totalRecords = val;\n        console.log(\"totalRecords is deprecated, provide a value with the length of virtual items instead.\");\n    }\n\n    @Input() get first(): number {\n        return this._first;\n    }\n    set first(val:number) {\n        this._first = val;\n        console.log(\"first property is deprecated, use scrollToIndex function to scroll a specific item.\");\n    }\n\n    @Input() get cache(): boolean {\n        return this._cache;\n    }\n    set cache(val: boolean) {\n        this._cache = val;\n        console.log(\"cache is deprecated as it is always on.\");\n    }\n\n    ngAfterContentInit() {\n        this.templates.forEach((item) => {\n            switch(item.getType()) {\n                case 'item':\n                    this.itemTemplate = item.template;\n                break;\n\n                case 'loadingItem':\n                    this.loadingItemTemplate = item.template;\n                break;\n\n                case 'header':\n                    this.headerTemplate = item.template;\n                break;\n\n                case 'footer':\n                    this.footerTemplate = item.template;\n                break;\n                \n                default:\n                    this.itemTemplate = item.template;\n                break;\n            }\n        });\n    }\n\n    onScrollIndexChange(index: number) {\n        if (this.lazy) {\n            if (this.virtualScrollTimeout) {\n                clearTimeout(this.virtualScrollTimeout);\n            }\n\n            this.virtualScrollTimeout = setTimeout(() => {\n                let page = Math.floor(index / this.rows);\n                let virtualScrollOffset = page === 0 ? 0 : (page - 1) * this.rows;\n                let virtualScrollChunkSize = page === 0 ? this.rows * 2 : this.rows * 3;\n  \n                if (page !== this.virtualPage) {\n                    this.virtualPage = page;\n                    this.onLazyLoad.emit({first: virtualScrollOffset, rows: virtualScrollChunkSize});\n                }\n            }, this.delay);\n        }\n    }\n\n    getBlockableElement(): HTMLElement {\n        return this.el.nativeElement.children[0];\n    }\n\n    //@deprecated\n    scrollTo(index: number, mode?: ScrollBehavior): void {\n        this.scrollToIndex(index, mode);\n    }\n\n    scrollToIndex(index: number, mode?: ScrollBehavior): void {\n        if (this.viewport) {\n            this.viewport.scrollToIndex(index, mode);\n        }\n    }\n}\n\n@NgModule({\n    imports: [CommonModule,ScrollingModule],\n    exports: [VirtualScroller,SharedModule,ScrollingModule],\n    declarations: [VirtualScroller]\n})\nexport class VirtualScrollerModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]},"metadata":{},"sourceType":"module"}